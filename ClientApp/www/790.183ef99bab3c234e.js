"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[790],{1708:(F,S,r)=>{r.d(S,{I:()=>Y});var C=r(7445),i=r(5e3),p=r(8279),x=r(7261),v=r(6407),E=r(8951),A=r(4521),I=r(9808),_=r(9224);function U(g,m){if(1&g&&i._UZ(0,"img",7),2&g){const u=i.oxw().$implicit;i.Q6J("src","/Images/Adverts/"+u.id+u.avatar,i.LSH)}}function B(g,m){if(1&g&&(i.TgZ(0,"mat-card",3),i.TgZ(1,"mat-card-title-group"),i.TgZ(2,"mat-card-title",4),i._uU(3),i.qZA(),i.TgZ(4,"mat-card-subtitle"),i._uU(5),i.qZA(),i.YNc(6,U,1,1,"img",5),i.qZA(),i.TgZ(7,"mat-card-content"),i._uU(8),i._UZ(9,"br"),i._UZ(10,"br"),i.TgZ(11,"a",6),i._uU(12),i.qZA(),i.qZA(),i.qZA()),2&g){const u=m.$implicit;i.xp6(3),i.Oqu(u.title),i.xp6(2),i.Oqu(u.subTitle),i.xp6(1),i.Q6J("ngIf",u.avatar),i.xp6(2),i.hij(" ",u.content,""),i.xp6(3),i.Q6J("href",u.link,i.LSH),i.xp6(1),i.Oqu(u.link)}}function D(g,m){if(1&g&&(i.ynx(0),i.YNc(1,B,13,6,"mat-card",2),i.BQk()),2&g){const u=i.oxw();i.xp6(1),i.Q6J("ngForOf",u.advertItems)}}function k(g,m){1&g&&(i.TgZ(0,"mat-card",3),i.TgZ(1,"mat-card-title-group"),i.TgZ(2,"mat-card-title",4),i._uU(3,"Loadgistix"),i.qZA(),i.TgZ(4,"mat-card-subtitle"),i._uU(5,"Get more"),i.qZA(),i._UZ(6,"img",8),i.qZA(),i.TgZ(7,"mat-card-content"),i._uU(8," Contact us today - we will show you how to get the best out of Loadgistix! "),i.qZA(),i.qZA())}let Y=(()=>{class g{constructor(u,f,h,y,c){this.apiService=u,this._snackBar=f,this.variableService=h,this.authService=y,this._router=c,this.loading=!0,this.advertItems=[]}ngOnInit(){this.getAdverts().then(f=>{this.advertItems=f});const u=(0,C.F)(6e5);this.subscription=u.subscribe(f=>{this.authService.check().subscribe(h=>{h&&this.getAdverts().then(y=>{this.advertItems=y})})})}getAdverts(){return new Promise(f=>{try{this.apiService.post("adverts","available",null).subscribe({next:h=>{1==h.result?f(h.data):"Expired"==h.message?this._router.navigate(["/sign-out"]):this._snackBar.open("Error: "+h.message,null,{duration:2e3})},error:h=>{console.log(h),this._snackBar.open("Error: "+h,null,{duration:2e3})},complete:()=>{}})}catch(h){f([])}})}}return g.\u0275fac=function(u){return new(u||g)(i.Y36(p.s),i.Y36(x.ux),i.Y36(v.S),i.Y36(E.e),i.Y36(A.F0))},g.\u0275cmp=i.Xpm({type:g,selectors:[["advert"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",2,"margin-bottom","12px"],[2,"font-size","18px"],["mat-card-sm-image","",3,"src",4,"ngIf"],["target","_blank",3,"href"],["mat-card-sm-image","",3,"src"],["mat-card-sm-image","","src","assets/images/no-image.jpg"]],template:function(u,f){1&u&&(i.YNc(0,D,2,1,"ng-container",0),i.YNc(1,k,9,0,"mat-card",1)),2&u&&(i.Q6J("ngIf",f.advertItems.length>0),i.xp6(1),i.Q6J("ngIf",0===f.advertItems.length))},directives:[I.O5,I.sg,_.a8,_.C1,_.n5,_.$j,_.dn,_.vP],styles:[".mat-card-sm-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px;width:auto;height:auto}"]}),g})()},3790:(F,S,r)=>{r.r(S),r.d(S,{AdminClientModule:()=>Pt});var C=r(4521),i=r(7423),p=r(9832),x=r(4834),v=r(5245),E=r(7446),A=r(7322),I=r(7531),_=r(9814),U=r(4107),B=r(2081),D=r(2181),k=r(5899),Y=r(2638),g=r(4847),m=r(4999),u=r(3251),f=r(7455),h=r(1244),y=r(7776),c=r(3075),Z=r(8966),w=r(6087),W=r(2340),j=r(3098),G=r(7579),t=r(5e3),N=r(6362),R=r(8279),H=r(7261),$=r(1683),M=r(7093),b=r(9808),z=r(508),K=r(3322);function V(n,a){if(1&n&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.dayNumber," ")}}function X(n,a){if(1&n&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.description," ")}}function tt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.TgZ(3,"div",50),t._uU(4),t.ALo(5,"date"),t.qZA(),t._UZ(6,"div",49),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",t.xi3(5,1,e.createdOn,"longDate")," ")}}function et(n,a){1&n&&t.GkF(0)}const it=function(n,a){return{"text-blue-500 -right-1 -mr-px mb-px":n,"text-gray-500 -left-1 -ml-px mb-px -scale-x-1":a}};function nt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",51),t.YNc(2,et,1,0,"ng-container",52),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(2,it,e.isMine,!e.isMine)),t.xp6(1),t.Q6J("ngTemplateOutlet",o.speechBubbleExtension)}}const ot=function(n,a){return{"mr-3":n,"ml-3":a}};function at(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",53),t._uU(2),t.ALo(3,"date"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.WLB(5,ot,e.isMine,!e.isMine)),t.xp6(1),t.hij(" ",t.xi3(3,2,e.createdOn,"HH:mm")," ")}}const rt=function(n,a,e,o){return{"items-end":n,"items-start":a,"mt-0.5":e,"mt-3":o}},st=function(n,a){return{"bg-blue-500 text-blue-50":n,"bg-gray-500 text-gray-50":a}};function lt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,tt,7,4,"ng-container",44),t.ALo(2,"date"),t.ALo(3,"date"),t.TgZ(4,"div",45),t.TgZ(5,"div",46),t.YNc(6,nt,3,5,"ng-container",44),t._UZ(7,"div",47),t.qZA(),t.YNc(8,at,4,8,"ng-container",44),t.qZA(),t.BQk()),2&n){const e=a.$implicit,o=a.index,s=a.first,l=a.last,d=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s||t.xi3(2,6,d.noteItems[o-1].createdOn,"d")!==t.xi3(3,9,e.createdOn,"d")),t.xp6(3),t.Q6J("ngClass",t.l5B(12,rt,e.isMine,!e.isMine,o>0&&d.noteItems[o-1].isMine===e.isMine,o>0&&d.noteItems[o-1].isMine!==e.isMine)),t.xp6(1),t.Q6J("ngClass",t.WLB(17,st,e.isMine,!e.isMine)),t.xp6(1),t.Q6J("ngIf",l||d.noteItems[o+1].isMine!==e.isMine),t.xp6(1),t.Q6J("innerHTML",e.content,t.oJD),t.xp6(1),t.Q6J("ngIf",s||l||d.noteItems[o+1].isMine!==e.isMine||d.noteItems[o+1].createdOn!==e.createdOn)}}function ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.TgZ(1,"div",30),t.TgZ(2,"div",31),t.TgZ(3,"div",32),t._uU(4,"Notes"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"div",33),t.TgZ(6,"div",34),t.YNc(7,lt,9,20,"ng-container",35),t.qZA(),t.qZA(),t.TgZ(8,"form",36),t.TgZ(9,"div",37),t.TgZ(10,"mat-form-field",38),t._UZ(11,"textarea",39,40),t.qZA(),t.TgZ(13,"div",41),t.TgZ(14,"button",42),t.NdJ("click",function(){return t.CHM(e),t.oxw().addNote()}),t._UZ(15,"mat-icon",43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.noteItems)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("formGroup",e.formNote),t.xp6(3),t.Q6J("rows",1),t.xp6(4),t.Q6J("svgIcon","heroicons_outline:paper-airplane")}}let dt=(()=>{class n{constructor(e,o,s,l,d,T,P,L,O,J){this.dialog=o,this.dialogRef=s,this.data=l,this.apiService=d,this._formBuilder=T,this._snackBar=P,this._router=L,this.fuseSplashScreenService=O,this.fuseConfirmationService=J,this.loading=!0,this.statusItems=[],this.dateBillingItems=[],this.hasError=(q,Q)=>this.form.controls[q].hasError(Q),this.user=JSON.parse(localStorage.getItem("user")),this.splashScreen=e,this.formErrors=l.formErrors,this.formData=l,this.clientId=l.id,this.prospectId=l.prospectId,this.dateBillingItems=l.dateBillingItems,this.statusItems=l.statusItems,this.formNote=this._formBuilder.group({content:""}),this.splashScreen.show(),"Update"===l.title?this.getNotes(this.clientId).then(q=>{this.noteItems=q,this.splashScreen.hide()}):this.splashScreen.hide(),this._unsubscribeAll=new G.x}ngOnInit(){this.form=this.data.form,this.formValid=!1,this.loading=!1}getNotes(e){return new Promise(s=>{try{this.apiService.post("clientNotes",e.toString(),null).subscribe({next:l=>{1==l.result?s(l.data):"Expired"==l.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+l.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:l=>{console.log(l),this._snackBar.open("Error: "+l,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(l){s([])}})}addNote(){this.splashScreen.show(),this.apiService.post("clientNotes",null,{clientId:this.clientId,note:this.formNote.controls.content.value}).subscribe(e=>{this.getNotes(this.clientId).then(o=>{this.noteItems=o,this.splashScreen.hide()})}),this.formNote.controls.content.setValue("")}ngOnDestroy(){this._unsubscribeAll.complete()}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close()}trackByFn(e,o){return o.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.j),t.Y36(Z.uw),t.Y36(Z.so),t.Y36(Z.WI),t.Y36(R.s),t.Y36(c.qu),t.Y36(H.ux),t.Y36(C.F0),t.Y36(N.j),t.Y36($.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["dialog-client"]],decls:119,vars:8,consts:[["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",3,"formGroup"],["fxLayout","row wrap",2,"width","100%"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-2"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","Description","formControlName","description","id","description"],["type","text","matInput","","placeholder","Short Description","formControlName","descriptionShort","id","descriptionShort"],["type","text","matInput","","placeholder","Registration Number","formControlName","registrationNumber","id","registrationNumber"],["type","text","matInput","","placeholder","VAT Number","formControlName","vatNumber","id","vatNumber"],["fxFlex","100",1,"p-2"],["type","text","matInput","","placeholder","Contact","formControlName","contact","id","contact"],["type","text","matInput","","placeholder","Contact Phone","formControlName","contactPhone","id","contactPhone"],["type","text","matInput","","placeholder","Contact Email","formControlName","contactEmail","id","contactEmail"],["type","text","matInput","","placeholder","Address 1","formControlName","address1","id","address1"],["type","text","matInput","","placeholder","Address 2","formControlName","address2","id","address2"],["type","text","matInput","","placeholder","City","formControlName","addressCity","id","addressCity"],["type","text","matInput","","placeholder","Province","formControlName","addressProvince","id","addressProvince"],["type","text","matInput","","placeholder","Country","formControlName","addressCountry","id","addressCountry"],["type","text","matInput","","placeholder","Postal Code","formControlName","addressCode","id","addressCode"],["placeholder","Billing Date","formControlName","dateBillingId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Status","formControlName","statusId"],["fxFlex","100","class","p-2 flex flex-col overflow-hidden border mb-4",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"color","mat-dialog-close","disabled"],[3,"value"],["fxFlex","100",1,"p-2","flex","flex-col","overflow-hidden","border","mb-4"],[1,"flex","flex-0","items-center","h-18","px-4","md:px-6","border-b","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center","ml-2","lg:ml-0","mr-2"],[1,"ml-4","text-lg","font-medium","leading-5","truncate"],[1,"flex","overflow-y-auto","flex-col-reverse"],[1,"flex","flex-col","flex-auto","flex-shrink","p-6","bg-card","dark:bg-transparent"],[4,"ngFor","ngForOf","ngForTrackBy"],["name","formNote","novalidate","",3,"formGroup"],[1,"flex","items-end","p-4","border-t","bg-gray-50","dark:bg-transparent"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","w-full","ml-4"],["matInput","","formControlName","content",1,"min-h-5","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"rows"],["messageInput",""],[1,"flex","items-center","h-11","my-px","ml-4"],["mat-icon-button","",3,"click"],[1,"transform","rotate-90",3,"svgIcon"],[4,"ngIf"],[1,"flex","flex-col",3,"ngClass"],[1,"relative","max-w-3/4","px-3","py-2","rounded-lg",3,"ngClass"],[1,"min-w-4","leading-5",3,"innerHTML"],[1,"flex","items-center","justify-center","my-3","-mx-6"],[1,"flex-auto","border-b"],[1,"flex-0","mx-4","text-sm","font-medium","leading-5","text-secondary"],[1,"absolute","bottom-0","w-3","transform",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"my-0.5","text-sm","font-medium","text-secondary",3,"ngClass"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"mat-form-field",5),t.TgZ(7,"mat-label"),t._uU(8,"Description"),t.qZA(),t._UZ(9,"input",6),t.TgZ(10,"mat-error"),t._uU(11,"Description is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",4),t.TgZ(13,"mat-form-field",5),t.TgZ(14,"mat-label"),t._uU(15,"Short Description"),t.qZA(),t._UZ(16,"input",7),t.TgZ(17,"mat-error"),t._uU(18,"Short Description is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",4),t.TgZ(20,"mat-form-field",5),t.TgZ(21,"mat-label"),t._uU(22,"Registration Number"),t.qZA(),t._UZ(23,"input",8),t.TgZ(24,"mat-error"),t._uU(25,"Registration Number is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",4),t.TgZ(27,"mat-form-field",5),t.TgZ(28,"mat-label"),t._uU(29,"VAT Number"),t.qZA(),t._UZ(30,"input",9),t.TgZ(31,"mat-error"),t._uU(32,"VAT Number is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",10),t.TgZ(34,"mat-form-field",5),t.TgZ(35,"mat-label"),t._uU(36,"Contact"),t.qZA(),t._UZ(37,"input",11),t.TgZ(38,"mat-error"),t._uU(39,"Contact is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",4),t.TgZ(41,"mat-form-field",5),t.TgZ(42,"mat-label"),t._uU(43,"Contact Phone"),t.qZA(),t._UZ(44,"input",12),t.TgZ(45,"mat-error"),t._uU(46,"Contact Phone is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",4),t.TgZ(48,"mat-form-field",5),t.TgZ(49,"mat-label"),t._uU(50,"Contact Email"),t.qZA(),t._UZ(51,"input",13),t.TgZ(52,"mat-error"),t._uU(53,"Contact Email is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(54,"div",4),t.TgZ(55,"mat-form-field",5),t.TgZ(56,"mat-label"),t._uU(57,"Address 1"),t.qZA(),t._UZ(58,"input",14),t.TgZ(59,"mat-error"),t._uU(60,"Address 1 is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(61,"div",4),t.TgZ(62,"mat-form-field",5),t.TgZ(63,"mat-label"),t._uU(64,"Address 2"),t.qZA(),t._UZ(65,"input",15),t.TgZ(66,"mat-error"),t._uU(67,"Address 2 is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"div",4),t.TgZ(69,"mat-form-field",5),t.TgZ(70,"mat-label"),t._uU(71,"City"),t.qZA(),t._UZ(72,"input",16),t.TgZ(73,"mat-error"),t._uU(74,"City is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(75,"div",4),t.TgZ(76,"mat-form-field",5),t.TgZ(77,"mat-label"),t._uU(78,"Province"),t.qZA(),t._UZ(79,"input",17),t.TgZ(80,"mat-error"),t._uU(81,"Province is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",4),t.TgZ(83,"mat-form-field",5),t.TgZ(84,"mat-label"),t._uU(85,"Country"),t.qZA(),t._UZ(86,"input",18),t.TgZ(87,"mat-error"),t._uU(88,"Country is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(89,"div",4),t.TgZ(90,"mat-form-field",5),t.TgZ(91,"mat-label"),t._uU(92,"Postal Code"),t.qZA(),t._UZ(93,"input",19),t.TgZ(94,"mat-error"),t._uU(95,"Postal Code is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(96,"div",4),t.TgZ(97,"mat-form-field",5),t.TgZ(98,"mat-label"),t._uU(99,"Billing Date"),t.qZA(),t.TgZ(100,"mat-select",20),t.YNc(101,V,2,2,"mat-option",21),t.qZA(),t.TgZ(102,"mat-error"),t._uU(103,"Billing Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(104,"div",4),t.TgZ(105,"mat-form-field",5),t.TgZ(106,"mat-label"),t._uU(107,"Status"),t.qZA(),t.TgZ(108,"mat-select",22),t.YNc(109,X,2,2,"mat-option",21),t.qZA(),t.TgZ(110,"mat-error"),t._uU(111,"Status is required"),t.qZA(),t.qZA(),t.qZA(),t.YNc(112,ct,16,5,"div",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(113,"div",24),t._UZ(114,"span",25),t.TgZ(115,"button",26),t.NdJ("click",function(){return o.onNoClick()}),t._uU(116,"Cancel"),t.qZA(),t.TgZ(117,"button",27),t._uU(118,"Submit"),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.hij("",o.data.title,"\xa0Client\n"),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(98),t.Q6J("ngForOf",o.dateBillingItems),t.xp6(8),t.Q6J("ngForOf",o.statusItems),t.xp6(3),t.Q6J("ngIf","Update"===o.data.title),t.xp6(5),t.Q6J("color","primary")("mat-dialog-close",o.form.value)("disabled",!o.form.valid))},directives:[Z.uh,Z.xY,M.xw,c._Y,c.JL,M.Wh,M.yH,c.sg,A.KE,A.hX,I.Nt,c.Fj,c.JJ,c.u,A.TO,U.gD,b.sg,b.O5,Z.H8,i.lW,Z.ZT,z.ey,v.Hw,b.mk,K.oO,b.tP],pipes:[b.uU],encapsulation:2}),n})();var mt=r(6407),ut=r(9224),gt=r(1708),pt=r(7238);function ht(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"th",29),t.TgZ(1,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().initUpsert(null)}),t.TgZ(2,"mat-icon",31),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function ft(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",32),t.TgZ(1,"button",33),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().initUpsert(l)}),t.TgZ(2,"mat-icon",31),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",34),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().initDelete(l)}),t.TgZ(5,"mat-icon",31),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function Zt(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Description "),t.qZA())}function xt(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function vt(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Contact "),t.qZA())}function _t(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.contact," ")}}function Ct(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Contact Email "),t.qZA())}function At(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.contactEmail," ")}}function Tt(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Contact Phone "),t.qZA())}function St(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.contactPhone," ")}}function It(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Location "),t.qZA())}function bt(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.addressProvince," ")}}function yt(n,a){1&n&&(t.TgZ(0,"th",35),t._uU(1," Status "),t.qZA())}function qt(n,a){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.status?e.status.description:""," ")}}function Ut(n,a){1&n&&t._UZ(0,"th",37)}function Nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().emailClient(s)}),t.TgZ(1,"mat-icon",31),t._uU(2,"email"),t.qZA(),t.qZA()}}function Et(n,a){if(1&n&&(t.TgZ(0,"td",38),t.YNc(1,Nt,3,0,"button",39),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","3292434E-68FB-425C-94AB-54A047971752"===e.statusId)}}function Bt(n,a){1&n&&t._UZ(0,"tr",41)}function Dt(n,a){1&n&&t._UZ(0,"tr",42)}function kt(n,a){if(1&n&&(t.TgZ(0,"tr",43),t.TgZ(1,"td",44),t._uU(2),t.qZA(),t.qZA()),2&n){t.oxw();const e=t.MAs(6);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const Yt=function(){return[5,10,25,100]},Mt=[{path:"",component:(()=>{class n{constructor(e,o,s,l,d,T,P,L,O){this.apiService=o,this.dialog=s,this._formBuilder=l,this._snackBar=d,this._router=T,this.variableService=P,this.fuseSplashScreenService=L,this.fuseConfirmationService=O,this.loading=!0,this.clientList=[],this.displayedColumns=["cud","description","statusDescription"],this.dateBillingItems=[],this.statusItems=[],this.user=JSON.parse(localStorage.getItem("user")),this.splashScreen=e,this.splashScreen.show(),this.getDateBillings().then(J=>{this.dateBillingItems=J,this.getStatus().then(q=>{this.statusItems=q,this.getClients().then(Q=>{this.dataSource=new m.by(Q),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.variableService.pageSelected="Clients",this.splashScreen.hide()})})})}ngOnInit(){}getClients(){return new Promise(o=>{try{this.apiService.get("clients").subscribe({next:s=>{1==s.result?o(s.data):"Expired"==s.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+s.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:s=>{console.log(s),this._snackBar.open("Error: "+s,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(s){o([])}})}getDateBillings(){return new Promise(o=>{try{this.apiService.get("dateBillings").subscribe({next:s=>{1==s.result?o(s.data):"Expired"==s.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+s.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:s=>{console.log(s),this._snackBar.open("Error: "+s,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(s){o([])}})}getStatus(){return new Promise(o=>{try{this.apiService.post("status","table","client").subscribe({next:s=>{1==s.result?o(s.data):"Expired"==s.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+s.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:s=>{console.log(s),this._snackBar.open("Error: "+s,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(s){o([])}})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}initUpsert(e){this.form=this._formBuilder.group({id:[null==e?j.i.create().toString():e.id],userId:[null==e?localStorage.getItem("userId"):e.userId],description:[null==e?null:e.description,[c.kI.required,c.kI.maxLength(200)]],descriptionShort:[null==e?null:e.descriptionShort,[c.kI.required,c.kI.maxLength(50)]],registrationNumber:[null==e?null:e.registrationNumber,[c.kI.required,c.kI.maxLength(50)]],vatNumber:[null==e?null:e.vatNumber,[c.kI.required,c.kI.maxLength(50)]],address1:[null==e?null:e.address1,[c.kI.required,c.kI.maxLength(50)]],address2:[null==e?null:e.address2,[c.kI.required,c.kI.maxLength(50)]],addressCity:[null==e?null:e.addressCity,[c.kI.required,c.kI.maxLength(50)]],addressProvince:[null==e?null:e.addressProvince,[c.kI.required,c.kI.maxLength(50)]],addressCountry:[null==e?null:e.addressCountry,[c.kI.required,c.kI.maxLength(50)]],addressCode:[null==e?null:e.addressCode,[c.kI.required,c.kI.maxLength(50)]],contact:[null==e?null:e.contact,[c.kI.required,c.kI.maxLength(50)]],contactPhone:[null==e?null:e.contactPhone,[c.kI.required,c.kI.maxLength(50)]],contactEmail:[null==e?null:e.contactEmail,[c.kI.required,c.kI.maxLength(50)]],dateBillingId:[null==e?null:e.dateBillingId,c.kI.required],statusId:[null==e?null:e.statusId.toString(),c.kI.required]});const o=new Z.vA;o.data={id:null==e?j.i.createEmpty():e.id,dateBillingItems:this.dateBillingItems,statusItems:this.statusItems,item:e,form:this.form,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="100%",this.dialog.open(dt,o).afterClosed().subscribe(l=>{!1!==l&&(this.fuseSplashScreenService.show(),this.loading=!0,null==e?this.apiService.post("clients",null,l).subscribe({next:d=>{1==d.result?this.getClients().then(T=>{this.clientList=T,this.dataSource=new m.by(this.clientList),this.fuseSplashScreenService.hide(),this.loading=!1}):"Expired"==d.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+d.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:d=>{console.log(d),this._snackBar.open("Error: "+d,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}):this.apiService.put("clients",l).subscribe({next:d=>{1==d.result?setTimeout(()=>{this.getClients().then(T=>{this.clientList=T,this.dataSource=new m.by(this.clientList),this.fuseSplashScreenService.hide(),this.loading=!1})},100):"Expired"==d.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+d.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:d=>{console.log(d),this._snackBar.open("Error: "+d,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))})}initDelete(e){this.deleteForm=this._formBuilder.group({title:"Delete Client",message:"Are you sure you want to remove this Client?",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Remove",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancel"})}),dismissible:!0}),this.fuseConfirmationService.open(this.deleteForm.value).afterClosed().subscribe(s=>{"confirmed"===s&&(this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.delete("clients",e).subscribe({next:l=>{1==l.result?(this.clientList.splice(this.clientList.findIndex(d=>d.id===l.id),1),this.dataSource=new m.by(this.clientList),this.fuseSplashScreenService.hide(),this.loading=!1):"Expired"==l.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+l.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:l=>{console.log(l),this._snackBar.open("Error: "+l,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))})}initView(e){window.open(W.N.urlShort+"/client?id="+e.id,"_blank")}emailClient(e){this.splashScreen.show(),this.apiService.sendEmail(e.id,this.prospectId).subscribe(o=>{this.getClients().then(s=>{this.dataSource=new m.by(s),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.splashScreen.hide()})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.j),t.Y36(R.s),t.Y36(Z.uw),t.Y36(c.qu),t.Y36(H.ux),t.Y36(C.F0),t.Y36(mt.S),t.Y36(N.j),t.Y36($.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["client"]],viewQuery:function(e,o){if(1&e&&(t.Gf(w.NW,5),t.Gf(g.YE,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first)}},decls:40,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["fusePerfectScrollbar","",1,"page-layout","blank","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"mt-0",2,"width","100%"],["matInput","","placeholder","Filter",3,"keyup"],["input",""],[1,"table-container","bg-card","shadow","rounded-2xl"],[1,"mat-elevation-z8",2,"padding","4px!important"],["mat-table","","matSort","",2,"width","100%",3,"dataSource"],["matColumnDef","cud"],["mat-header-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;",4,"matHeaderCellDef"],["mat-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contact"],["matColumnDef","contactEmail"],["matColumnDef","contactPhone"],["matColumnDef","addressProvince"],["matColumnDef","statusDescription"],["matColumnDef","email"],["mat-header-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;","style","width: 60px;",4,"matHeaderCellDef"],["mat-cell","","class","cudColumn ml-0",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions","pageSize"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],["mat-header-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"padding-left","0px!important"],["mat-icon-button","","color","default","matTooltip","Add Client",3,"click"],[1,"fab-icon"],["mat-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"padding-left","0px!important"],["mat-icon-button","","color","default","matTooltip","Update Client",3,"click"],["mat-icon-button","","color","default","matTooltip","Remove Client",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"width","60px"],["mat-cell","",1,"cudColumn","ml-0"],["mat-icon-button","","color","default","matTooltip","Email Client",3,"click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Email Client",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"mat-form-field",4),t.TgZ(5,"input",5,6),t.NdJ("keyup",function(l){return o.applyFilter(l)}),t.qZA(),t.qZA(),t.TgZ(7,"div",7),t.TgZ(8,"mat-card",8),t.TgZ(9,"table",9),t.ynx(10,10),t.YNc(11,ht,4,0,"th",11),t.YNc(12,ft,7,0,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,Zt,2,0,"th",14),t.YNc(15,xt,2,1,"td",15),t.BQk(),t.ynx(16,16),t.YNc(17,vt,2,0,"th",14),t.YNc(18,_t,2,1,"td",15),t.BQk(),t.ynx(19,17),t.YNc(20,Ct,2,0,"th",14),t.YNc(21,At,2,1,"td",15),t.BQk(),t.ynx(22,18),t.YNc(23,Tt,2,0,"th",14),t.YNc(24,St,2,1,"td",15),t.BQk(),t.ynx(25,19),t.YNc(26,It,2,0,"th",14),t.YNc(27,bt,2,1,"td",15),t.BQk(),t.ynx(28,20),t.YNc(29,yt,2,0,"th",14),t.YNc(30,qt,2,1,"td",15),t.BQk(),t.ynx(31,21),t.YNc(32,Ut,1,0,"th",22),t.YNc(33,Et,2,1,"td",23),t.BQk(),t.YNc(34,Bt,1,0,"tr",24),t.YNc(35,Dt,1,0,"tr",25),t.YNc(36,kt,3,1,"tr",26),t.qZA(),t._UZ(37,"mat-paginator",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",28),t._UZ(39,"advert"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,Yt))("pageSize",10))},directives:[A.KE,I.Nt,ut.a8,m.BZ,g.YE,m.w1,m.fO,m.Dz,m.as,m.nj,m.Ee,w.NW,gt.I,m.ge,i.lW,pt.gM,v.Hw,m.ev,g.nU,b.O5,m.XQ,m.Gk],encapsulation:2}),n})(),resolve:{}}];let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[C.Bz.forChild(Mt),i.ot,p.vV,x.t,v.Ps,D.Tx,k.Cv,Y.SJ,g.JX,m.p0,u.Nh,h.X,f.y4,E.p9,A.lN,I.c,_.Fk,U.LD,B.T5,y.m]]}),n})()},3098:(F,S)=>{var C=function(){function i(p){if(!p)throw new TypeError("Invalid argument; `value` has no value.");this.value=i.EMPTY,p&&i.isGuid(p)&&(this.value=p)}return i.isGuid=function(p){var x=p.toString();return p&&(p instanceof i||i.validator.test(x))},i.create=function(){return new i([i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-"))},i.createEmpty=function(){return new i("emptyguid")},i.parse=function(p){return new i(p)},i.raw=function(){return[i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-")},i.gen=function(p){for(var x="",v=0;v<p;v++)x+=(65536*(1+Math.random())|0).toString(16).substring(1);return x},i.prototype.equals=function(p){return i.isGuid(p)&&this.value===p.toString()},i.prototype.isEmpty=function(){return this.value===i.EMPTY},i.prototype.toString=function(){return this.value},i.prototype.toJSON=function(){return{value:this.value}},i.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),i.EMPTY="00000000-0000-0000-0000-000000000000",i}();S.i=C}}]);