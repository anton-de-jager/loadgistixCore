"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[449],{8449:(Qt,Z,s)=>{s.r(Z),s.d(Z,{AdminProfileModule:()=>Jt});var C=s(4521),_=s(7423),x=s(9832),q=s(4834),T=s(5245),b=s(7446),h=s(7322),A=s(7531),S=s(9814),U=s(4107),I=s(2081),P=s(2181),N=s(5899),E=s(2638),k=s(4847),c=s(4999),D=s(3251),Y=s(7455),L=s(1244),R=s(7776),a=s(3075),p=s(8966),j=s(2340),m=s(3098),J=s(7579),y=s(8036),Q=s(4514),B=s(6742),F=s(3499),t=s(5e3),H=s(6362),M=s(8279),$=s(6407),G=s(495),v=s(9808),g=s(7093),O=s(7238);function w(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"th",50),t.TgZ(1,"button",51),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).initUpsertLanguage(null)}),t.TgZ(2,"mat-icon",52),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function X(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",53),t.TgZ(1,"button",54),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initUpsertLanguage(r)}),t.TgZ(2,"mat-icon",52),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initDeleteLanguage(r)}),t.TgZ(5,"mat-icon",52),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function V(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Language "),t.qZA())}function z(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function W(i,d){1&i&&t._UZ(0,"tr",58)}function K(i,d){1&i&&t._UZ(0,"tr",59)}function tt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"th",50),t.TgZ(1,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).initUpsertSubject(null)}),t.TgZ(2,"mat-icon",52),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function et(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",53),t.TgZ(1,"button",61),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initUpsertSubject(r)}),t.TgZ(2,"mat-icon",52),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",62),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initDeleteSubject(r)}),t.TgZ(5,"mat-icon",52),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function it(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Subject "),t.qZA())}function ot(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function rt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Level "),t.qZA())}function nt(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.level," ")}}function at(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Result "),t.qZA())}function dt(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.result," ")}}function lt(i,d){1&i&&t._UZ(0,"tr",58)}function st(i,d){1&i&&t._UZ(0,"tr",59)}function ct(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"th",50),t.TgZ(1,"button",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).initUpsertTertiary(null)}),t.TgZ(2,"mat-icon",52),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function ut(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",53),t.TgZ(1,"button",64),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initUpsertTertiary(r)}),t.TgZ(2,"mat-icon",52),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",65),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initDeleteTertiary(r)}),t.TgZ(5,"mat-icon",52),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function pt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Tertiary "),t.qZA())}function mt(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function ft(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Course "),t.qZA())}function ht(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.course," ")}}function gt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Year Completed "),t.qZA())}function Zt(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.yearCompleted," ")}}function _t(i,d){1&i&&t._UZ(0,"tr",58)}function Tt(i,d){1&i&&t._UZ(0,"tr",59)}function At(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"th",50),t.TgZ(1,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).initUpsertEmployment(null)}),t.TgZ(2,"mat-icon",52),t._uU(3,"add"),t.qZA(),t.qZA(),t.qZA()}}function yt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"td",53),t.TgZ(1,"button",67),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initUpsertEmployment(r)}),t.TgZ(2,"mat-icon",52),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",68),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).initDeleteEmployment(r)}),t.TgZ(5,"mat-icon",52),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function vt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Company "),t.qZA())}function Ct(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.description," ")}}function xt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Position "),t.qZA())}function qt(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",e.position," ")}}function bt(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," Start Date "),t.qZA())}function St(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.dateStart,"longDate")," ")}}function Ut(i,d){1&i&&(t.TgZ(0,"th",56),t._uU(1," End Date "),t.qZA())}function It(i,d){if(1&i&&(t.TgZ(0,"td",57),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=d.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.dateEnd,"longDate")," ")}}function Pt(i,d){1&i&&t._UZ(0,"tr",58)}function Nt(i,d){1&i&&t._UZ(0,"tr",59)}function Et(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"form",4),t.TgZ(3,"div",5),t.TgZ(4,"div",6),t.TgZ(5,"mat-form-field",7),t.TgZ(6,"mat-label"),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",8),t.TgZ(9,"mat-error"),t._uU(10,"Name is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"mat-form-field",7),t.TgZ(13,"mat-label"),t._uU(14,"Surname"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-error"),t._uU(17,"Surname is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"mat-form-field",7),t.TgZ(20,"mat-label"),t._uU(21,"Role"),t.qZA(),t._UZ(22,"input",10),t.TgZ(23,"mat-error"),t._uU(24,"Role is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",6),t.TgZ(26,"mat-form-field",7),t.TgZ(27,"mat-label"),t._uU(28,"ID Number"),t.qZA(),t._UZ(29,"input",11),t.TgZ(30,"mat-error"),t._uU(31,"ID Number is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"mat-form-field",7),t.TgZ(34,"mat-label"),t._uU(35,"Phone"),t.qZA(),t._UZ(36,"input",12),t.TgZ(37,"mat-error"),t._uU(38,"Phone is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",6),t.TgZ(40,"mat-form-field",7),t.TgZ(41,"mat-label"),t._uU(42,"Email"),t.qZA(),t._UZ(43,"input",13),t.TgZ(44,"mat-error"),t._uU(45,"Email is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",6),t.TgZ(47,"mat-form-field",7),t.TgZ(48,"mat-label"),t._uU(49,"Address 1"),t.qZA(),t._UZ(50,"input",14),t.TgZ(51,"mat-error"),t._uU(52,"Address 1 is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(53,"div",6),t.TgZ(54,"mat-form-field",7),t.TgZ(55,"mat-label"),t._uU(56,"Address 2"),t.qZA(),t._UZ(57,"input",15),t.TgZ(58,"mat-error"),t._uU(59,"Address 2 is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"div",6),t.TgZ(61,"mat-form-field",7),t.TgZ(62,"mat-label"),t._uU(63,"City"),t.qZA(),t._UZ(64,"input",16),t.TgZ(65,"mat-error"),t._uU(66,"City is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",6),t.TgZ(68,"mat-form-field",7),t.TgZ(69,"mat-label"),t._uU(70,"Province"),t.qZA(),t._UZ(71,"input",17),t.TgZ(72,"mat-error"),t._uU(73,"Province is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"div",6),t.TgZ(75,"mat-form-field",7),t.TgZ(76,"mat-label"),t._uU(77,"Country"),t.qZA(),t._UZ(78,"input",18),t.TgZ(79,"mat-error"),t._uU(80,"Country is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(81,"div",6),t.TgZ(82,"mat-form-field",7),t.TgZ(83,"mat-label"),t._uU(84,"Postal Code"),t.qZA(),t._UZ(85,"input",19),t.TgZ(86,"mat-error"),t._uU(87,"Postal Code is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",6),t.TgZ(89,"mat-form-field",7),t.TgZ(90,"mat-label"),t._uU(91,"Equity"),t.qZA(),t._UZ(92,"input",20),t.TgZ(93,"mat-error"),t._uU(94,"Equity is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(95,"div",6),t.TgZ(96,"mat-form-field",7),t.TgZ(97,"mat-label"),t._uU(98,"Nationality"),t.qZA(),t._UZ(99,"input",21),t.TgZ(100,"mat-error"),t._uU(101,"Nationality is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",6),t.TgZ(103,"mat-form-field",7),t.TgZ(104,"mat-label"),t._uU(105,"Transport"),t.qZA(),t._UZ(106,"input",22),t.TgZ(107,"mat-error"),t._uU(108,"Transport is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(109,"div",6),t.TgZ(110,"mat-form-field",7),t.TgZ(111,"mat-label"),t._uU(112,"Availability"),t.qZA(),t._UZ(113,"input",23),t.TgZ(114,"mat-error"),t._uU(115,"Availability is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(116,"div",6),t.TgZ(117,"mat-form-field",7),t.TgZ(118,"mat-label"),t._uU(119,"School"),t.qZA(),t._UZ(120,"input",24),t.TgZ(121,"mat-error"),t._uU(122,"School is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(123,"div",6),t.TgZ(124,"mat-form-field",7),t.TgZ(125,"mat-label"),t._uU(126,"Highest Grade"),t.qZA(),t._UZ(127,"input",25),t.TgZ(128,"mat-error"),t._uU(129,"Highest Grade is Required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(130,"div",6),t.TgZ(131,"mat-form-field",7),t.TgZ(132,"mat-label"),t._uU(133,"Year Completed"),t.qZA(),t._UZ(134,"input",26),t.TgZ(135,"mat-error"),t._uU(136,"Year Completed is Required"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(137,"div",5),t.TgZ(138,"div",27),t.TgZ(139,"div",28),t.TgZ(140,"div",29),t.TgZ(141,"b"),t._uU(142,"LANGUAGES:"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(143,"table",30),t.ynx(144,31),t.YNc(145,w,4,0,"th",32),t.YNc(146,X,7,0,"td",33),t.BQk(),t.ynx(147,34),t.YNc(148,V,2,0,"th",35),t.YNc(149,z,2,1,"td",36),t.BQk(),t.YNc(150,W,1,0,"tr",37),t.YNc(151,K,1,0,"tr",38),t.qZA(),t.qZA(),t.TgZ(152,"div",27),t.TgZ(153,"div",28),t.TgZ(154,"div",29),t.TgZ(155,"b"),t._uU(156,"SUBJECTS:"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(157,"table",30),t.ynx(158,31),t.YNc(159,tt,4,0,"th",32),t.YNc(160,et,7,0,"td",33),t.BQk(),t.ynx(161,34),t.YNc(162,it,2,0,"th",35),t.YNc(163,ot,2,1,"td",36),t.BQk(),t.ynx(164,39),t.YNc(165,rt,2,0,"th",35),t.YNc(166,nt,2,1,"td",36),t.BQk(),t.ynx(167,40),t.YNc(168,at,2,0,"th",35),t.YNc(169,dt,2,1,"td",36),t.BQk(),t.YNc(170,lt,1,0,"tr",37),t.YNc(171,st,1,0,"tr",38),t.qZA(),t.qZA(),t.TgZ(172,"div",27),t.TgZ(173,"div",28),t.TgZ(174,"div",29),t.TgZ(175,"b"),t._uU(176,"TERTIARY EDUCATION:"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(177,"table",30),t.ynx(178,31),t.YNc(179,ct,4,0,"th",32),t.YNc(180,ut,7,0,"td",33),t.BQk(),t.ynx(181,34),t.YNc(182,pt,2,0,"th",35),t.YNc(183,mt,2,1,"td",36),t.BQk(),t.ynx(184,41),t.YNc(185,ft,2,0,"th",35),t.YNc(186,ht,2,1,"td",36),t.BQk(),t.ynx(187,42),t.YNc(188,gt,2,0,"th",35),t.YNc(189,Zt,2,1,"td",36),t.BQk(),t.YNc(190,_t,1,0,"tr",37),t.YNc(191,Tt,1,0,"tr",38),t.qZA(),t.qZA(),t.TgZ(192,"div",27),t.TgZ(193,"div",28),t.TgZ(194,"div",29),t.TgZ(195,"b"),t._uU(196,"EMPLOYMENT HISTORY:"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(197,"table",30),t.ynx(198,31),t.YNc(199,At,4,0,"th",32),t.YNc(200,yt,7,0,"td",33),t.BQk(),t.ynx(201,34),t.YNc(202,vt,2,0,"th",35),t.YNc(203,Ct,2,1,"td",36),t.BQk(),t.ynx(204,43),t.YNc(205,xt,2,0,"th",35),t.YNc(206,qt,2,1,"td",36),t.BQk(),t.ynx(207,44),t.YNc(208,bt,2,0,"th",35),t.YNc(209,St,3,4,"td",36),t.BQk(),t.ynx(210,45),t.YNc(211,Ut,2,0,"th",35),t.YNc(212,It,3,4,"td",36),t.BQk(),t.YNc(213,Pt,1,0,"tr",37),t.YNc(214,Nt,1,0,"tr",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(215,"br"),t.TgZ(216,"div",46),t._UZ(217,"span",47),t.TgZ(218,"button",48),t.NdJ("click",function(){return t.CHM(e),t.oxw().initView()}),t._uU(219,"View"),t.qZA(),t.TgZ(220,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().onYesClick()}),t._uU(221,"Save"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.form),t.xp6(141),t.Q6J("dataSource",e.dataSourceLanguage),t.xp6(7),t.Q6J("matHeaderRowDef",e.displayedColumnsLanguage),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumnsLanguage),t.xp6(6),t.Q6J("dataSource",e.dataSourceSubject),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumnsSubject),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumnsSubject),t.xp6(6),t.Q6J("dataSource",e.dataSourceTertiary),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumnsTertiary),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumnsTertiary),t.xp6(6),t.Q6J("dataSource",e.dataSourceEmployment),t.xp6(16),t.Q6J("matHeaderRowDef",e.displayedColumnsEmployment),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumnsEmployment),t.xp6(4),t.Q6J("color","basic"),t.xp6(2),t.Q6J("color","primary")("disabled",!e.form.valid)}}let kt=(()=>{class i{constructor(e,o,n,r,l){this.apiService=o,this._formBuilder=n,this.dialog=r,this.variableService=l,this.displayedColumnsLanguage=["cud","description"],this.displayedColumnsSubject=["cud","description","level","result"],this.displayedColumnsTertiary=["cud","description","course","yearCompleted"],this.displayedColumnsEmployment=["cud","description","position","dateStart","dateEnd"],this.hasError=(u,f)=>this.form.controls[u].hasError(f),this.splashScreen=e,this.splashScreen.show(),this.user=JSON.parse(localStorage.getItem("user")),this.getProspect(this.prospectId).then(u=>{this.prospect=u[0],this.form=this._formBuilder.group({id:[null==this.prospect?null:this.prospect.id],clientId:[null==this.prospect?m.i.createEmpty():this.prospect.clientId],name:[null==this.prospect?null:this.prospect.name,a.kI.required],surname:[null==this.prospect?null:this.prospect.surname,a.kI.required],idNumber:[null==this.prospect?null:this.prospect.idNumber,a.kI.required],phone:[null==this.prospect?null:this.prospect.phone,a.kI.required],email:[null==this.prospect?null:this.prospect.email,a.kI.required],address1:[null==this.prospect?null:this.prospect.address1,a.kI.required],address2:[null==this.prospect?null:this.prospect.address2,a.kI.required],addressCity:[null==this.prospect?null:this.prospect.addressCity,a.kI.required],addressProvince:[null==this.prospect?null:this.prospect.addressProvince,a.kI.required],addressCountry:[null==this.prospect?null:this.prospect.addressCountry,a.kI.required],addressCode:[null==this.prospect?null:this.prospect.addressCode,a.kI.required],equity:[null==this.prospect?null:this.prospect.equity,a.kI.required],nationality:[null==this.prospect?null:this.prospect.nationality,a.kI.required],transport:[null==this.prospect?null:this.prospect.transport,a.kI.required],availability:[null==this.prospect?null:this.prospect.availability,a.kI.required],educationSchool:[null==this.prospect?null:this.prospect.educationSchool,a.kI.required],educationHighestGrade:[null==this.prospect?null:this.prospect.educationHighestGrade,a.kI.required],educationYearCompleted:[null==this.prospect?null:this.prospect.educationYearCompleted,a.kI.required],role:[null==this.prospect?null:this.prospect.role,a.kI.required]}),this.variableService.pageSelected="Profile",this.loadData()}),this._unsubscribeAll=new J.x}ngOnInit(){}getProspect(e){return new Promise(n=>{try{this.apiService.getData("prospect",e).subscribe(r=>{n(r)})}catch(r){n([])}})}loadData(){this.getProspectLanguage(this.prospect.id).then(e=>{this.dataSourceLanguage=new c.by(e),this.getProspectSubject(this.prospect.id).then(o=>{this.dataSourceSubject=new c.by(o),this.getProspectTertiary(this.prospect.id).then(n=>{this.dataSourceTertiary=new c.by(n),this.getProspectEmployment(this.prospect.id).then(r=>{r.forEach(l=>{this.getProspectEmploymentDuty(l.id).then(u=>{l.dutyItems=u}),this.getProspectEmploymentTechnology(l.id).then(u=>{l.technologyItems=u})}),setTimeout(()=>{this.dataSourceEmployment=new c.by(r),this.splashScreen.hide()},1e3)})})})})}getProspectLanguage(e){return new Promise(n=>{try{this.apiService.getData("prospectLanguage",e).subscribe(r=>{n(r)})}catch(r){n([])}})}initUpsertLanguage(e){this.formLanguage=this._formBuilder.group({id:[null==e?m.i.create():e.id,a.kI.required],prospectId:[this.prospect.id,a.kI.required],description:[null==e?null:e.description,a.kI.required]});const o=new p.vA;o.data={item:e,form:this.formLanguage,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="600px",this.dialog.open(Q.W,o).afterClosed().subscribe(r=>{!1!==r&&(null==e?(this.dataSourceLanguage.data.push(r),setTimeout(()=>{this.dataSourceLanguage._updateChangeSubscription()},100)):(this.dataSourceLanguage.data.find(l=>l.id==e.id).description=r.description,setTimeout(()=>{this.dataSourceLanguage._updateChangeSubscription()},100)))})}initDeleteLanguage(e){confirm("Are you sure you want to delete item?")&&(this.dataSourceLanguage=new c.by(this.dataSourceLanguage.data.filter(o=>o!=e)))}getProspectSubject(e){return new Promise(n=>{try{this.apiService.getData("prospectSubject",e).subscribe(r=>{n(r)})}catch(r){n([])}})}initUpsertSubject(e){this.formSubject=this._formBuilder.group({id:[null==e?m.i.create():e.id,a.kI.required],prospectId:[this.prospect.id,a.kI.required],description:[null==e?null:e.description,a.kI.required],level:[null==e?null:e.level,a.kI.required],result:[null==e?null:e.result,a.kI.required]});const o=new p.vA;o.data={item:e,form:this.formSubject,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="600px",this.dialog.open(B.C,o).afterClosed().subscribe(r=>{!1!==r&&(null==e?(this.dataSourceSubject.data.push(r),setTimeout(()=>{this.dataSourceSubject._updateChangeSubscription()},100)):(this.dataSourceSubject.data.find(l=>l.id==e.id).description=r.description,this.dataSourceSubject.data.find(l=>l.id==e.id).level=r.level,this.dataSourceSubject.data.find(l=>l.id==e.id).result=r.result,setTimeout(()=>{this.dataSourceSubject._updateChangeSubscription()},100)))})}initDeleteSubject(e){confirm("Are you sure you want to delete item?")&&(this.dataSourceSubject=new c.by(this.dataSourceSubject.data.filter(o=>o!=e)))}getProspectTertiary(e){return new Promise(n=>{try{this.apiService.getData("prospectTertiary",e).subscribe(r=>{n(r)})}catch(r){n([])}})}initUpsertTertiary(e){this.formTertiary=this._formBuilder.group({id:[null==e?m.i.create():e.id,a.kI.required],prospectId:[this.prospect.id,a.kI.required],description:[null==e?null:e.description,a.kI.required],course:[null==e?null:e.course,a.kI.required],yearCompleted:[null==e?null:e.yearCompleted,a.kI.required]});const o=new p.vA;o.data={item:e,form:this.formTertiary,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="600px",this.dialog.open(F.v,o).afterClosed().subscribe(r=>{!1!==r&&(null==e?(this.dataSourceTertiary.data.push(r),setTimeout(()=>{this.dataSourceTertiary._updateChangeSubscription()},100)):(this.dataSourceTertiary.data.find(l=>l.id==e.id).description=r.description,this.dataSourceTertiary.data.find(l=>l.id==e.id).course=r.course,this.dataSourceTertiary.data.find(l=>l.id==e.id).yearCompleted=r.yearCompleted,setTimeout(()=>{this.dataSourceTertiary._updateChangeSubscription()},100)))})}initDeleteTertiary(e){confirm("Are you sure you want to delete item?")&&(this.dataSourceTertiary=new c.by(this.dataSourceTertiary.data.filter(o=>o!=e)))}getProspectEmployment(e){return new Promise(n=>{try{let r=0;this.apiService.getData("prospectEmployment",e).subscribe(l=>{0==l.length?n(l):l.forEach(u=>{this.getProspectEmploymentDuty(u.id).then(f=>{u.dutyItems=f,r++,r/2==l.length&&n(l)}),this.getProspectEmploymentTechnology(u.id).then(f=>{u.technologyItems=f,r++,r/2==l.length&&n(l)})}),n(l)})}catch(r){n([])}})}initUpsertEmployment(e){if(this.splashScreen.show(),null==e){this.splashScreen.hide(),this.formEmployment=this._formBuilder.group({id:[null==e?m.i.create():e.id,a.kI.required],prospectId:[this.prospect.id,a.kI.required],description:[null==e?null:e.description,a.kI.required],position:[null==e?null:e.position,a.kI.required],dateStart:[null==e?null:e.dateStart,a.kI.required],dateEnd:[null==e?null:e.dateEnd,a.kI.required],reasonForLeaving:[null==e?null:e.reasonForLeaving,a.kI.required],dutyItems:[[],a.kI.required],technologyItems:[[],a.kI.required]});const o=new p.vA;o.data={item:e,form:this.formEmployment,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="600px",this.dialog.open(y.h,o).afterClosed().subscribe(r=>{!1!==r&&(this.dataSourceEmployment.data.push(r),setTimeout(()=>{this.dataSourceEmployment._updateChangeSubscription()},100))})}else{this.splashScreen.hide(),this.formEmployment=this._formBuilder.group({id:[e.id,a.kI.required],prospectId:[this.prospect.id,a.kI.required],description:[e.description,a.kI.required],position:[e.position,a.kI.required],dateStart:[e.dateStart,a.kI.required],dateEnd:[e.dateEnd,a.kI.required],reasonForLeaving:[e.reasonForLeaving,a.kI.required],dutyItems:[e.dutyItems,a.kI.required],technologyItems:[e.technologyItems,a.kI.required]});const o=new p.vA;o.data={item:e,form:this.formEmployment,title:null==e?"Insert":"Update"},o.autoFocus=!0,o.disableClose=!0,o.hasBackdrop=!0,o.ariaLabel="fffff",o.width="600px",this.dialog.open(y.h,o).afterClosed().subscribe(r=>{!1!==r&&(this.dataSourceEmployment.data.find(l=>l.id==e.id).description=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).position=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).dateStart=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).dateEnd=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).reasonForLeaving=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).dutyItems=r.description,this.dataSourceEmployment.data.find(l=>l.id==e.id).technologyItems=r.description,setTimeout(()=>{this.dataSourceEmployment._updateChangeSubscription()},100))})}}initDeleteEmployment(e){confirm("Are you sure you want to delete item?")&&(this.dataSourceEmployment=new c.by(this.dataSourceEmployment.data.filter(o=>o!=e)))}getProspectEmploymentDuty(e){return new Promise(n=>{try{this.apiService.getData("prospectEmploymentDuty",e).subscribe(r=>{n(r)})}catch(r){n([])}})}getProspectEmploymentTechnology(e){return new Promise(n=>{try{this.apiService.getData("prospectEmploymentTechnology",e).subscribe(r=>{n(r)})}catch(r){n([])}})}ngOnDestroy(){this._unsubscribeAll.complete()}onNoClick(){}onYesClick(){this.splashScreen.show(),this.apiService.deleteChildren("prospect",this.prospect).subscribe(e=>{this.apiService.updatItem("prospect",this.form.value).subscribe(o=>{this.dataSourceLanguage.data.forEach(n=>{n.prospectId=this.prospect.id,this.apiService.insertItem("prospectLanguage",n).subscribe(r=>{})}),this.dataSourceSubject.data.forEach(n=>{n.prospectId=this.prospect.id,this.apiService.insertItem("prospectSubject",n).subscribe(r=>{})}),this.dataSourceTertiary.data.forEach(n=>{n.prospectId=this.prospect.id,this.apiService.insertItem("prospectTertiary",n).subscribe(r=>{})}),this.dataSourceEmployment.data.forEach(n=>{n.prospectId=this.prospect.id,this.apiService.insertItem("prospectEmployment",n).subscribe(r=>{r.length>0&&(n.id=r[0].id,n.dutyItems.forEach(l=>{l.prospectEmploymentId=n.id,this.apiService.insertItem("prospectEmploymentDuty",l).subscribe(u=>{})}),n.technologyItems.forEach(l=>{l.prospectEmploymentId=n.id,this.apiService.insertItem("prospectEmploymentTechnology",l).subscribe(u=>{})}))})}),setTimeout(()=>{this.splashScreen.hide()},100)})})}initView(){window.open(j.N.urlShort+"/cv?id="+this.prospect.id,"_blank")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(H.j),t.Y36(M.s),t.Y36(a.qu),t.Y36(p.uw),t.Y36($.S))},i.\u0275cmp=t.Xpm({type:i,selectors:[["profile"]],decls:2,vars:1,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],["class","p-4 m-4 rounded-2xl shadow bg-card",4,"ngIf"],[1,"p-4","m-4","rounded-2xl","shadow","bg-card"],["fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",3,"formGroup"],["fxLayout","row wrap",2,"width","100%"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-2"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","Name","formControlName","name","id","name"],["type","text","matInput","","placeholder","Surname","formControlName","surname","id","surname"],["type","text","matInput","","placeholder","Role","formControlName","role","id","role"],["type","text","matInput","","placeholder","ID Number","formControlName","idNumber","id","idNumber"],["type","text","matInput","","placeholder","Phone","formControlName","phone","id","phone"],["type","text","matInput","","placeholder","Email","formControlName","email","id","email"],["type","text","matInput","","placeholder","Address 1","formControlName","address1","id","address1"],["type","text","matInput","","placeholder","Address 2","formControlName","address2","id","address2"],["type","text","matInput","","placeholder","City","formControlName","addressCity","id","addressCity"],["type","text","matInput","","placeholder","Province","formControlName","addressProvince","id","addressProvince"],["type","text","matInput","","placeholder","Country","formControlName","addressCountry","id","addressCountry"],["type","text","matInput","","placeholder","Postal Code","formControlName","addressCode","id","addressCode"],["type","text","matInput","","placeholder","Equity","formControlName","equity","id","equity"],["type","text","matInput","","placeholder","Nationality","formControlName","nationality","id","nationality"],["type","text","matInput","","placeholder","Transport","formControlName","transport","id","transport"],["type","text","matInput","","placeholder","Availability","formControlName","availability","id","availability"],["type","text","matInput","","placeholder","School","formControlName","educationSchool","id","educationSchool"],["type","text","matInput","","placeholder","Highest Grade","formControlName","educationHighestGrade","id","educationHighestGrade"],["type","number","matInput","","placeholder","Year Completed","formControlName","educationYearCompleted","id","educationYearCompleted"],["fxFlex","100"],[1,"grid","grid-cols-1","gap-x-1"],[1,"text-xl","tracking-tight","text-secondary","pt-8"],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","cud"],["mat-header-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;","style","width: 120px;",4,"matHeaderCellDef"],["mat-cell","","class","cudColumn ml-0",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","level"],["matColumnDef","result"],["matColumnDef","course"],["matColumnDef","yearCompleted"],["matColumnDef","position"],["matColumnDef","dateStart"],["matColumnDef","dateEnd"],[2,"display","flex"],[2,"flex","1 1 auto"],["mat-raised-button","",1,"mr-4",3,"color","click"],["mat-raised-button","",3,"color","disabled","click"],["mat-header-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"width","120px"],["mat-icon-button","","color","default","matTooltip","Add Language",3,"click"],[1,"fab-icon"],["mat-cell","",1,"cudColumn","ml-0"],["mat-icon-button","","color","default","matTooltip","Update Language",3,"click"],["mat-icon-button","","color","default","matTooltip","Remove Language",3,"click"],["mat-header-cell","","mat-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-icon-button","","color","default","matTooltip","Add Subject",3,"click"],["mat-icon-button","","color","default","matTooltip","Update Subject",3,"click"],["mat-icon-button","","color","default","matTooltip","Remove Subject",3,"click"],["mat-icon-button","","color","default","matTooltip","Add Tertiary",3,"click"],["mat-icon-button","","color","default","matTooltip","Update Tertiary",3,"click"],["mat-icon-button","","color","default","matTooltip","Remove Tertiary",3,"click"],["mat-icon-button","","color","default","matTooltip","Add Employment",3,"click"],["mat-icon-button","","color","default","matTooltip","Update Employment",3,"click"],["mat-icon-button","","color","default","matTooltip","Remove Employment",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Et,222,16,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.form))},directives:[G.PQ,v.O5,g.xw,a._Y,a.JL,g.Wh,g.yH,a.sg,h.KE,h.hX,A.Nt,a.Fj,a.JJ,a.u,h.TO,a.wV,c.BZ,c.w1,c.fO,c.Dz,c.as,c.nj,_.lW,c.ge,O.gM,T.Hw,c.ev,c.XQ,c.Gk],pipes:[v.uU],encapsulation:2}),i})();var Dt=s(1135),Yt=s(8505),Lt=s(520);let Rt=(()=>{class i{constructor(e){this._httpClient=e,this._data=new Dt.X(null)}get data$(){return this._data.asObservable()}getData(){return this._httpClient.get("api/admin/profile").pipe((0,Yt.b)(e=>{this._data.next(e)}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Lt.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jt=[{path:"",component:kt,resolve:{data:(()=>{class i{constructor(e){this._profileService=e}resolve(e,o){return this._profileService.getData()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Rt))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}];let Jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[C.Bz.forChild(jt),_.ot,x.vV,q.t,T.Ps,P.Tx,N.Cv,E.SJ,k.JX,c.p0,D.Nh,L.X,Y.y4,b.p9,h.lN,A.c,S.Fk,U.LD,I.T5,R.m]]}),i})()}}]);