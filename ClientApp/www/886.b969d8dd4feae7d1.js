"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[886],{8120:(S,D,r)=>{r.d(D,{T:()=>L,r:()=>T});var n=r(5e3),h=r(7093),v=r(9808),C=r(5245);function o(g,t){if(1&g){const _=n.EpF();n.TgZ(0,"mat-icon",2),n.NdJ("click",function(){const A=n.CHM(_).index;return n.oxw().onClick(A+1)}),n._uU(1),n.qZA()}if(2&g){const _=t.index,Z=n.oxw();n.Q6J("color",Z.color)("id","star_"+_),n.xp6(1),n.hij(" ",Z.showIcon(_)," ")}}let L=(()=>{class g{constructor(){this.rating=3,this.starCount=5,this.color="accent",this.ratingUpdated=new n.vpe,this.ratingArr=[]}ngOnInit(){for(let _=0;_<this.starCount;_++)this.ratingArr.push(_)}onClick(_){return this.ratingUpdated.emit(_),!1}showIcon(_){return this.rating>=_+1?"star":"star_border"}}return g.\u0275fac=function(_){return new(_||g)},g.\u0275cmp=n.Xpm({type:g,selectors:[["mat-star-rating"]],inputs:{rating:"rating",starCount:"starCount",color:"color"},outputs:{ratingUpdated:"ratingUpdated"},decls:2,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-around center"],[3,"color","id","click",4,"ngFor","ngForOf"],[3,"color","id","click"]],template:function(_,Z){1&_&&(n.TgZ(0,"div",0),n.YNc(1,o,2,3,"mat-icon",1),n.qZA()),2&_&&(n.xp6(1),n.Q6J("ngForOf",Z.ratingArr))},directives:[h.xw,h.Wh,v.sg,C.Hw],styles:[""]}),g})();var T=(()=>{return(g=T||(T={})).primary="primary",g.accent="accent",g.warn="warn",T;var g})()},2388:(S,D,r)=>{r.d(D,{S:()=>Y});var n=r(8966),h=r(7579),v=r(7738),C=r(3098),o=r(5e3),L=r(8279),T=r(2313),g=r(7093),t=r(3075),_=r(7322),Z=r(4107),I=r(9808),A=r(7531),x=r(24),O=r(7423),U=r(508),y=r(6856),b=r(8120);function M(d,u){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=u.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.description,"")}}function q(d,u){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=u.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.description,"")}}function w(d,u){if(1&d&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&d){const l=u.$implicit;o.Q6J("value",l.id),o.xp6(1),o.hij(" ",l.firstName+" "+l.lastName,"")}}function P(d,u){1&d&&(o.TgZ(0,"mat-error"),o._uU(1,"Price is required"),o.qZA())}function N(d,u){if(1&d&&o._UZ(0,"mat-datepicker-toggle",23),2&d){o.oxw();const l=o.MAs(42);o.Q6J("for",l)}}function R(d,u){if(1&d&&o._UZ(0,"mat-datepicker-toggle",23),2&d){o.oxw();const l=o.MAs(52);o.Q6J("for",l)}}function J(d,u){if(1&d&&(o.TgZ(0,"mat-form-field",24),o.TgZ(1,"mat-label"),o._uU(2,"Driver Rating"),o.qZA(),o._UZ(3,"input",25),o._UZ(4,"mat-star-rating",26),o.TgZ(5,"mat-error"),o._uU(6,"Rating is required"),o.qZA(),o.TgZ(7,"mat-hint"),o.TgZ(8,"b"),o._uU(9),o.qZA(),o._uU(10," Reviews"),o.qZA(),o.qZA()),2&d){const l=o.oxw();o.xp6(4),o.Q6J("rating",l.reviewDriver)("starCount",5)("color",l.starColorP),o.xp6(5),o.Oqu(l.bidRow.reviewDriverCount)}}function B(d,u){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().accept()}),o._uU(1,"Accept"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}function k(d,u){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().decline()}),o._uU(1,"Decline"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}function Q(d,u){if(1&d){const l=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(l),o.oxw().onYesClick()}),o._uU(1,"Submit"),o.qZA()}if(2&d){const l=o.oxw();o.Q6J("disabled",!l.form.valid)}}let Y=(()=>{class d{constructor(l,c,f,E,W){this.dialog=l,this.dialogRef=c,this.data=f,this.apiService=E,this.sanitizer=W,this.previewImage=null,this.readOnly=!1,this.hasError=(F,K)=>this.form.controls[F].hasError(K),this.formErrors=f.formErrors,this.formData=f,this.bidRow=f.item,this.readOnly=1==f.readOnly,this._unsubscribeAll=new h.x}ngOnInit(){this.form=this.data.form,this.formValid=!1}initCamera(){const l=new n.vA;l.autoFocus=!0,l.disableClose=!0,l.hasBackdrop=!0,l.ariaLabel="fffff",l.width="800px",this.dialog.open(v._,l).afterClosed().subscribe(f=>{f&&(this.form.controls.avatar.setValue(f._imageAsDataUrl),this.previewImage=f._imageAsDataUrl)})}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(this.form.value)}accept(){this.bidRow.statusId=C.i.parse("6a21aec4-fb07-4740-98b5-b8ecfad465d7"),this.bidRow.statusDescription="Accepted",this.dialogRef.close(this.bidRow)}decline(){this.bidRow.statusId=C.i.parse("e12dcdd2-65e0-48d3-a313-1b796a7668f9"),this.bidRow.statusDescription="Declined",this.dialogRef.close(this.bidRow)}}return d.\u0275fac=function(l){return new(l||d)(o.Y36(n.uw),o.Y36(n.so),o.Y36(n.WI),o.Y36(L.s),o.Y36(T.H7))},d.\u0275cmp=o.Xpm({type:d,selectors:[["dialog-bid"]],decls:64,vars:14,consts:[["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",2,"padding","0px!important",3,"formGroup"],["fxLayout","row wrap",1,"w-100-p"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-4",2,"padding","0px!important"],["appearance","outline",1,"w-100-p"],["placeholder","LoadId","formControlName","loadId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","VehicleId","formControlName","vehicleId"],["placeholder","DriverId","formControlName","driverId"],["matInput","","type","number","placeholder","Price","formControlName","price","id","price"],[4,"ngIf"],["matInput","","placeholder","Choose a date","formControlName","dateOut",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for",4,"ngIf"],["picker_dateOut",""],["matInput","","placeholder","Choose a date","formControlName","dateIn",3,"ngxMatDatetimePicker"],["picker_dateIn",""],["appearance","outline","class","w-100-p","floatLabel","true",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value"],["matSuffix","",3,"for"],["appearance","outline","floatLabel","true",1,"w-100-p"],["matInput","","type","number","placeholder","Punctuality","formControlName","reviewDriver","id","reviewDriver",2,"display","none"],[3,"rating","starCount","color"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(l,c){if(1&l&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"form",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"mat-form-field",5),o.TgZ(7,"mat-label"),o._uU(8,"Load Description"),o.qZA(),o.TgZ(9,"mat-select",6),o.YNc(10,M,2,2,"mat-option",7),o.qZA(),o.TgZ(11,"mat-error"),o._uU(12,"Load Description is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.TgZ(14,"mat-form-field",5),o.TgZ(15,"mat-label"),o._uU(16,"Vehicle"),o.qZA(),o.TgZ(17,"mat-select",8),o.YNc(18,q,2,2,"mat-option",7),o.qZA(),o.TgZ(19,"mat-error"),o._uU(20,"Vehicle is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",4),o.TgZ(22,"mat-form-field",5),o.TgZ(23,"mat-label"),o._uU(24,"Driver"),o.qZA(),o.TgZ(25,"mat-select",9),o.YNc(26,w,2,2,"mat-option",7),o.qZA(),o.TgZ(27,"mat-error"),o._uU(28,"Driver is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",4),o.TgZ(30,"mat-form-field",5),o.TgZ(31,"mat-label"),o._uU(32,"Price"),o.qZA(),o._UZ(33,"input",10),o.YNc(34,P,2,0,"mat-error",11),o.qZA(),o.qZA(),o.TgZ(35,"div",4),o.TgZ(36,"mat-form-field",5),o.TgZ(37,"mat-label"),o._uU(38,"Departure Date"),o.qZA(),o._UZ(39,"input",12),o.YNc(40,N,1,1,"mat-datepicker-toggle",13),o._UZ(41,"ngx-mat-datetime-picker",null,14),o.TgZ(43,"mat-error"),o._uU(44,"Departure Date is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"div",4),o.TgZ(46,"mat-form-field",5),o.TgZ(47,"mat-label"),o._uU(48,"Delivery Date"),o.qZA(),o._UZ(49,"input",15),o.YNc(50,R,1,1,"mat-datepicker-toggle",13),o._UZ(51,"ngx-mat-datetime-picker",null,16),o.TgZ(53,"mat-error"),o._uU(54,"Delivery Date is required"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(55,"div",4),o.YNc(56,J,11,4,"mat-form-field",17),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",18),o._UZ(58,"span",19),o.TgZ(59,"button",20),o.NdJ("click",function(){return c.onNoClick()}),o._uU(60,"Cancel"),o.qZA(),o.YNc(61,B,2,1,"button",21),o.YNc(62,k,2,1,"button",21),o.YNc(63,Q,2,1,"button",21),o.qZA()),2&l){const f=o.MAs(42),E=o.MAs(52);o.xp6(1),o.hij("",c.formData.title," Bid"),o.xp6(2),o.Q6J("formGroup",c.form),o.xp6(7),o.Q6J("ngForOf",c.formData.loadList),o.xp6(8),o.Q6J("ngForOf",c.formData.vehicleList),o.xp6(8),o.Q6J("ngForOf",c.formData.driverList),o.xp6(8),o.Q6J("ngIf",c.hasError("price","required")),o.xp6(5),o.Q6J("ngxMatDatetimePicker",f),o.xp6(1),o.Q6J("ngIf",!c.readOnly),o.xp6(9),o.Q6J("ngxMatDatetimePicker",E),o.xp6(1),o.Q6J("ngIf",!c.readOnly),o.xp6(6),o.Q6J("ngIf",c.readOnly),o.xp6(5),o.Q6J("ngIf",c.readOnly),o.xp6(1),o.Q6J("ngIf",c.readOnly),o.xp6(1),o.Q6J("ngIf",!c.readOnly)}},directives:[n.uh,n.xY,g.xw,t._Y,t.JL,g.Wh,g.yH,t.sg,_.KE,_.hX,Z.gD,t.JJ,t.u,I.sg,_.TO,A.Nt,t.wV,t.Fj,I.O5,x.g2,x.AB,n.H8,O.lW,U.ey,y.nW,_.R9,b.T,_.bx],encapsulation:2}),d})()},4886:(S,D,r)=>{r.d(D,{s:()=>ht});var n=r(3075),h=r(8966),v=r(7579),C=r(1638),o=r(7738),L=r(3098),T=r(2388),g=r(8120),t=r(5e3),_=r(8279),Z=r(7261),I=r(6362),A=r(7093),x=r(7322),O=r(4107),U=r(9808),y=r(7531),b=r(24),M=r(7423),q=r(508),w=r(5245),P=r(6856),N=r(7544);function R(e,s){if(1&e&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&e){const a=s.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.description," ")}}function J(e,s){if(1&e&&(t.TgZ(0,"mat-optgroup",47),t.YNc(1,R,2,2,"mat-option",27),t.qZA()),2&e){const a=s.$implicit;t.Q6J("label",a.description),t.xp6(1),t.Q6J("ngForOf",a.loadTypeList)}}function B(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Description is required"),t.qZA())}function k(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Item Count is required"),t.qZA())}function Q(e,s){if(1&e&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Items"),t.qZA(),t._UZ(4,"input",49),t.YNc(5,k,2,0,"mat-error",9),t.qZA(),t.qZA()),2&e){const a=t.oxw();t.xp6(5),t.Q6J("ngIf",a.hasError("itemCount","required"))}}function Y(e,s){1&e&&t._UZ(0,"div",4)}function d(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Weight is required"),t.qZA())}function u(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Length is required"),t.qZA())}function l(e,s){if(1&e&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Length (cm)"),t.qZA(),t._UZ(4,"input",50),t.YNc(5,u,2,0,"mat-error",9),t.qZA(),t.qZA()),2&e){const a=t.oxw();t.xp6(5),t.Q6J("ngIf",a.hasError("length","required"))}}function c(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Width is required"),t.qZA())}function f(e,s){if(1&e&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Width (cm)"),t.qZA(),t._UZ(4,"input",51),t.YNc(5,c,2,0,"mat-error",9),t.qZA(),t.qZA()),2&e){const a=t.oxw();t.xp6(5),t.Q6J("ngIf",a.hasError("width","required"))}}function E(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Height is required"),t.qZA())}function W(e,s){if(1&e&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Height (cm)"),t.qZA(),t._UZ(4,"input",52),t.YNc(5,E,2,0,"mat-error",9),t.qZA(),t.qZA()),2&e){const a=t.oxw();t.xp6(5),t.Q6J("ngIf",a.hasError("height","required"))}}function F(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Volume is required"),t.qZA())}function K(e,s){if(1&e&&(t.TgZ(0,"div",4),t.TgZ(1,"mat-form-field",5),t.TgZ(2,"mat-label"),t._uU(3,"Volume (litres)"),t.qZA(),t._UZ(4,"input",53),t.YNc(5,F,2,0,"mat-error",9),t.qZA(),t.qZA()),2&e){const a=t.oxw();t.xp6(5),t.Q6J("ngIf",a.hasError("volume","required"))}}function H(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(a),t.oxw().getAddress("originatingAddressLabel")}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA(),t.qZA()}}function j(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Originating Address is required "),t.qZA())}function z(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){return t.CHM(a),t.oxw().getAddress("destinationAddressLabel")}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA(),t.qZA()}}function $(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Destination Address is required "),t.qZA())}function X(e,s){if(1&e&&t._UZ(0,"mat-datepicker-toggle",55),2&e){t.oxw();const a=t.MAs(53);t.Q6J("for",a)}}function G(e,s){if(1&e&&t._UZ(0,"mat-datepicker-toggle",55),2&e){t.oxw();const a=t.MAs(63);t.Q6J("for",a)}}function tt(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Note is required"),t.qZA())}function ot(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Total Value is required"),t.qZA())}function et(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Price is required"),t.qZA())}function at(e,s){if(1&e&&t._UZ(0,"mat-datepicker-toggle",55),2&e){t.oxw();const a=t.MAs(91);t.Q6J("for",a)}}function it(e,s){if(1&e&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&e){const a=s.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.description)}}function rt(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){return t.CHM(a),t.oxw(),t.MAs(104).click()}),t._uU(1,"Upload Image"),t.qZA()}}function nt(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"img",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(),t.MAs(104).click()}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("src",a.previewImage,t.LSH)}}function lt(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"img",57),t.NdJ("click",function(){return t.CHM(a),t.oxw(),t.MAs(104).click()}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("src","/Images/Loads/"+a.form.value.id+a.form.value.avatar,t.LSH)}}function st(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"img",58),t.NdJ("click",function(){return t.CHM(a),t.oxw(),t.MAs(104).click()}),t.qZA()}}function dt(e,s){if(1&e&&t._UZ(0,"img",59),2&e){const a=t.oxw();t.Q6J("src","/Images/Loads/"+a.form.value.id+a.form.value.avatar,t.LSH)}}function mt(e,s){1&e&&t._UZ(0,"img",60)}function _t(e,s){1&e&&(t.TgZ(0,"span",61),t._uU(1,"Company Rating:"),t.qZA())}function gt(e,s){if(1&e&&(t.TgZ(0,"span",62),t._UZ(1,"mat-star-rating",63),t.qZA()),2&e){const a=t.oxw();t.Q6J("matBadge",a.bidRow.reviewCount),t.xp6(1),t.Q6J("rating",a.bidRow.review)("starCount",5)("color",a.starColorP)}}function ct(e,s){1&e&&(t.TgZ(0,"span",64),t._uU(1,"Open Bids:"),t.qZA())}function pt(e,s){if(1&e&&(t.TgZ(0,"span",61),t._uU(1),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Oqu(a.bidRow.bidCount)}}function ut(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){return t.CHM(a),t.oxw().onYesClick()}),t._uU(1,"Submit"),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("disabled",!a.form.valid)}}function ft(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){return t.CHM(a),t.oxw().initBid()}),t._uU(1,"Place Bid"),t.qZA()}}let ht=(()=>{class e{constructor(a,i,m,p,V,Zt,Tt){this.dialog=a,this.dialogRef=i,this.data=m,this._formBuilder=p,this.apiService=V,this._snackBar=Zt,this.fuseSplashScreenService=Tt,this.previewImage=null,this.readOnly=!1,this.vehicleList=[],this.driverList=[],this.loadCategoryList=[],this.loading=!0,this.starColor=g.r.accent,this.starColorP=g.r.primary,this.starColorW=g.r.warn,this.hasError=(xt,At)=>this.form.controls[xt].hasError(At),1==m.readOnly&&(this.bidRow=m.item),this.formErrors=m.formErrors,this.formData=m,this.readOnly=1==m.readOnly,this.vehicleList=m.vehicleList,this.driverList=m.driverList,this._unsubscribeAll=new v.x}ngOnInit(){this.form=this.data.form,this.formValid=!1,console.log(this.form.value),this.data.loadCategoryList.forEach(a=>{a.loadTypeList=this.data.loadTypeList.filter(i=>i.loadCategoryId==a.id).sort((i,m)=>i.description.localeCompare(m.description)),this.loadCategoryList.push(a)}),setTimeout(()=>{this.loadCategoryList=this.loadCategoryList.sort((a,i)=>a.description.localeCompare(i.description)),this.loadTypeChanged()},100)}handleFileInput(a){this.fileToUpload=a.item(0),this.form.controls.fileToUpload.setValue(this.fileToUpload);var i=(this.fileToUpload.size/1048576).toFixed(2);if(Number(i)>Number(.25))return this._snackBar.open("Error: Maximum FileSize is 200kB",null,{duration:2e3}),!1;{let m=new FileReader;m.onload=p=>{this.previewImage=p.target.result},m.readAsDataURL(this.fileToUpload)}}initCamera(){const a=new h.vA;a.autoFocus=!0,a.disableClose=!0,a.hasBackdrop=!0,a.ariaLabel="fffff",a.width="800px",this.dialog.open(o._,a).afterClosed().subscribe(m=>{m&&(this.form.controls.avatar.setValue(m._imageAsDataUrl),this.previewImage=m._imageAsDataUrl,this.form.controls.avatarChanged.setValue(!0))})}getAddress(a){const i=new h.vA;i.data={label:"Loadgistix",lat:28.1045642,lon:-26.3296247},"originatingAddressLabel"==a&&this.form.controls.originatingAddressLabel.value&&(i.data.label=this.form.controls.originatingAddressLabel.value,i.data.lat=this.form.controls.originatingAddressLat.value,i.data.lon=this.form.controls.originatingAddressLon.value),"destinationAddressLabel"==a&&this.form.controls.destinationAddressLabel.value&&(i.data.label=this.form.controls.destinationAddressLabel.value,i.data.lat=this.form.controls.destinationAddressLat.value,i.data.lon=this.form.controls.destinationAddressLon.value),i.autoFocus=!0,i.disableClose=!0,i.hasBackdrop=!0,i.ariaLabel="fffff",i.width="800px",this.dialog.open(C.S,i).afterClosed().subscribe(p=>{p&&("originatingAddressLabel"==a&&(this.form.controls.originatingAddressLabel.setValue(p.label),this.form.controls.originatingAddressLat.setValue(p.x),this.form.controls.originatingAddressLon.setValue(p.y)),"destinationAddressLabel"==a&&(this.form.controls.destinationAddressLabel.setValue(p.label),this.form.controls.destinationAddressLat.setValue(p.x),this.form.controls.destinationAddressLon.setValue(p.y)))})}loadTypeChanged(){this.getLoadTypeLiquid()?(this.form.controls.height.clearValidators(),this.form.controls.width.clearValidators(),this.form.controls.length.clearValidators(),this.form.controls.itemCount.clearValidators(),this.form.controls.volume.setValidators([n.kI.required])):(this.form.controls.height.setValidators([n.kI.required]),this.form.controls.width.setValidators([n.kI.required]),this.form.controls.length.setValidators([n.kI.required]),this.form.controls.itemCount.setValidators([n.kI.required]),this.form.controls.volume.clearValidators()),setTimeout(()=>{this.form.controls.height.updateValueAndValidity(),this.form.controls.width.updateValueAndValidity(),this.form.controls.length.updateValueAndValidity(),this.form.controls.itemCount.updateValueAndValidity(),this.form.controls.volume.updateValueAndValidity()},100)}getLoadTypeLiquid(){return!(!this.form.controls.loadTypeId.value||!this.formData.loadTypeList.find(a=>a.id===this.form.controls.loadTypeId.value))&&this.formData.loadTypeList.find(a=>a.id===this.form.controls.loadTypeId.value).liquid}initBid(){this.formBid=this._formBuilder.group({id:[L.i.create().toString()],userId:[null==this.bidRow?localStorage.getItem("userId"):this.bidRow.userId],loadId:[null==this.bidRow?null:this.bidRow.id,n.kI.required],vehicleId:[null,n.kI.required],driverId:[null,n.kI.required],price:[null==this.bidRow?null:this.bidRow.price,n.kI.required],dateOut:[null==this.bidRow?null:this.bidRow.dateOut,n.kI.required],dateIn:[null==this.bidRow?null:this.bidRow.dateIn,n.kI.required],statusId:[null==this.bidRow?"B3B7D04D-64B7-4ED7-BFE1-CF06D2B4A8AB":this.bidRow.statusId.toString()]});const a=new h.vA;a.data={item:this.bidRow,form:this.formBid,loadList:[this.bidRow],vehicleList:this.vehicleList,driverList:this.driverList,title:"Place a"},a.autoFocus=!0,a.disableClose=!0,a.hasBackdrop=!0,a.ariaLabel="fffff",a.width="800px",this.dialog.open(T.S,a).afterClosed().subscribe(m=>{!1!==m&&(m.loadUserId=this.bidRow.userId,this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.post("bids",null,m).subscribe(p=>{this.fuseSplashScreenService.hide(),this.loading=!1,this.dialogRef.close(!1)},p=>{console.log(p),this._snackBar.open("Error: "+p,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1}))})}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(this.form.value)}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(h.uw),t.Y36(h.so),t.Y36(h.WI),t.Y36(n.qu),t.Y36(_.s),t.Y36(Z.ux),t.Y36(I.j))},e.\u0275cmp=t.Xpm({type:e,selectors:[["dialog-load"]],decls:126,vars:37,consts:[["mat-dialog-title","","fxLayout","row",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",2,"padding","0px!important",3,"formGroup"],["fxLayout","row wrap",1,"w-100-p"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-4",2,"padding","0px!important"],["appearance","outline",1,"w-100-p"],["placeholder","LoadTypeId","formControlName","loadTypeId",3,"selectionChange"],[3,"label",4,"ngFor","ngForOf"],["matInput","","placeholder","Description","formControlName","description","id","description"],[4,"ngIf"],["fxFlex","100","fxFlex.gt-xs","50","class","p-4","style","padding: 0px!important;",4,"ngIf"],["matInput","","type","number","placeholder","Weight","formControlName","weight","id","weight"],["readonly","","matInput","","placeholder","OriginatingAddressLabel","formControlName","originatingAddressLabel","id","originatingAddressLabel"],["matSuffix","","mat-button","",3,"click",4,"ngIf"],["readonly","","matInput","","placeholder","DestinationAddressLabel","formControlName","destinationAddressLabel","id","destinationAddressLabel"],["matInput","","placeholder","Choose a date","formControlName","dateOut",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for",4,"ngIf"],["picker_dateOut",""],["matInput","","placeholder","Choose a date","formControlName","dateIn",3,"ngxMatDatetimePicker"],["picker_dateIn",""],["fxFlex","100",1,"p-4",2,"padding","0px!important"],["matInput","","placeholder","Special Instructions","formControlName","note","id","description"],["matInput","","type","number","placeholder","Total Value","formControlName","totalValue","id","totalValue"],["matInput","","type","number","placeholder","Price","formControlName","price","id","price"],["matInput","","placeholder","Choose a date","formControlName","dateBidEnd",3,"ngxMatDatetimePicker"],["picker_dateBidEnd",""],["placeholder","NotificationId","formControlName","notificationId"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","center center",1,"p-4"],["id","fileInput","type","file","accept",".jpg,.png,.jpeg",2,"display","none",3,"change"],["Image",""],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row"],["mat-flat-button","","fxFlex","100","color","primary","style","margin-left: 2px; margin-right: 2px;",3,"click",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","center center",2,"margin-top","4px"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","class","image",3,"src","click",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","src","assets/images/no-image.jpg","class","image",3,"click",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","class","image",3,"src",4,"ngIf"],["style","max-width: 120px;max-height: 120px;width: auto;height: auto;","src","assets/images/no-image.jpg","class","image",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],["style","font-size:16px; margin-top: 4px;",4,"ngIf"],["style","font-size:16px; margin-top: 4px;",3,"matBadge",4,"ngIf"],["style","font-size:16px; margin-left: 40px; margin-top: 4px;",4,"ngIf"],[2,"flex","1 1 auto"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[3,"label"],[3,"value"],["matInput","","type","number","placeholder","ItemCount","formControlName","itemCount","id","itemCount"],["matInput","","type","number","placeholder","Length","formControlName","length","id","length"],["matInput","","type","number","placeholder","Width","formControlName","width","id","width"],["matInput","","type","number","placeholder","Height","formControlName","height","id","height"],["matInput","","type","number","placeholder","Volume (Litres)","formControlName","volume","id","volume"],["matSuffix","","mat-button","",3,"click"],["matSuffix","",3,"for"],["mat-flat-button","","fxFlex","100","color","primary",2,"margin-left","2px","margin-right","2px",3,"click"],[1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"src","click"],["src","assets/images/no-image.jpg",1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"click"],[1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto",3,"src"],["src","assets/images/no-image.jpg",1,"image",2,"max-width","120px","max-height","120px","width","auto","height","auto"],[2,"font-size","16px","margin-top","4px"],[2,"font-size","16px","margin-top","4px",3,"matBadge"],[2,"position","relative","top","2px",3,"rating","starCount","color"],[2,"font-size","16px","margin-left","40px","margin-top","4px"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",3,"click"]],template:function(a,i){if(1&a&&(t.TgZ(0,"h1",0),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"form",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-form-field",5),t.TgZ(8,"mat-label"),t._uU(9,"Load Type"),t.qZA(),t.TgZ(10,"mat-select",6),t.NdJ("selectionChange",function(){return i.loadTypeChanged()}),t.YNc(11,J,2,2,"mat-optgroup",7),t.qZA(),t.TgZ(12,"mat-error"),t._uU(13,"Load Type is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",4),t.TgZ(15,"mat-form-field",5),t.TgZ(16,"mat-label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,B,2,0,"mat-error",9),t.qZA(),t.qZA(),t.YNc(20,Q,6,1,"div",10),t.YNc(21,Y,1,0,"div",10),t.TgZ(22,"div",4),t.TgZ(23,"mat-form-field",5),t.TgZ(24,"mat-label"),t._uU(25,"Weight (kg)"),t.qZA(),t._UZ(26,"input",11),t.YNc(27,d,2,0,"mat-error",9),t.qZA(),t.qZA(),t.YNc(28,l,6,1,"div",10),t.YNc(29,f,6,1,"div",10),t.YNc(30,W,6,1,"div",10),t.YNc(31,K,6,1,"div",10),t.TgZ(32,"div",4),t.TgZ(33,"mat-form-field",5),t.TgZ(34,"mat-label"),t._uU(35,"Originating Address"),t.qZA(),t._UZ(36,"input",12),t.YNc(37,H,3,0,"button",13),t.YNc(38,j,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(39,"div",4),t.TgZ(40,"mat-form-field",5),t.TgZ(41,"mat-label"),t._uU(42,"Destination Address"),t.qZA(),t._UZ(43,"input",14),t.YNc(44,z,3,0,"button",13),t.YNc(45,$,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(46,"div",4),t.TgZ(47,"mat-form-field",5),t.TgZ(48,"mat-label"),t._uU(49,"Depature Date"),t.qZA(),t._UZ(50,"input",15),t.YNc(51,X,1,1,"mat-datepicker-toggle",16),t._UZ(52,"ngx-mat-datetime-picker",null,17),t.TgZ(54,"mat-error"),t._uU(55,"Depature Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(56,"div",4),t.TgZ(57,"mat-form-field",5),t.TgZ(58,"mat-label"),t._uU(59,"Delivery Date"),t.qZA(),t._UZ(60,"input",18),t.YNc(61,G,1,1,"mat-datepicker-toggle",16),t._UZ(62,"ngx-mat-datetime-picker",null,19),t.TgZ(64,"mat-error"),t._uU(65,"Delivery Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"div",20),t.TgZ(67,"mat-form-field",5),t.TgZ(68,"mat-label"),t._uU(69,"Special Instructions / Constraints"),t.qZA(),t._UZ(70,"textarea",21),t.YNc(71,tt,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(72,"div",4),t.TgZ(73,"mat-form-field",5),t.TgZ(74,"mat-label"),t._uU(75,"Total Value"),t.qZA(),t._UZ(76,"input",22),t.YNc(77,ot,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(78,"div",4),t.TgZ(79,"mat-form-field",5),t.TgZ(80,"mat-label"),t._uU(81,"Price"),t.qZA(),t._UZ(82,"input",23),t.YNc(83,et,2,0,"mat-error",9),t.qZA(),t.qZA(),t.TgZ(84,"div",4),t.TgZ(85,"mat-form-field",5),t.TgZ(86,"mat-label"),t._uU(87,"Bid Close Date"),t.qZA(),t._UZ(88,"input",24),t.YNc(89,at,1,1,"mat-datepicker-toggle",16),t._UZ(90,"ngx-mat-datetime-picker",null,25),t.TgZ(92,"mat-error"),t._uU(93,"Bid Close Date is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(94,"div",4),t.TgZ(95,"mat-form-field",5),t.TgZ(96,"mat-label"),t._uU(97,"Notification Type"),t.qZA(),t.TgZ(98,"mat-select",26),t.YNc(99,it,2,2,"mat-option",27),t.qZA(),t.TgZ(100,"mat-error"),t._uU(101,"Notification Type is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",28),t.TgZ(103,"input",29,30),t.NdJ("change",function(p){return i.handleFileInput(p.target.files)}),t.qZA(),t.TgZ(105,"div",31),t.TgZ(106,"div",32),t.YNc(107,rt,2,0,"button",33),t.qZA(),t.TgZ(108,"div",34),t.YNc(109,nt,1,1,"img",35),t.YNc(110,lt,1,1,"img",35),t.YNc(111,st,1,0,"img",36),t.YNc(112,dt,1,1,"img",37),t.YNc(113,mt,1,0,"img",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(114,"div",39),t.YNc(115,_t,2,0,"span",40),t._uU(116,"\xa0 "),t.YNc(117,gt,2,4,"span",41),t.YNc(118,ct,2,0,"span",42),t._uU(119,"\xa0"),t.YNc(120,pt,2,1,"span",40),t._UZ(121,"span",43),t.TgZ(122,"button",44),t.NdJ("click",function(){return i.onNoClick()}),t._uU(123,"Cancel"),t.qZA(),t.YNc(124,ut,2,1,"button",45),t.YNc(125,ft,2,0,"button",46),t.qZA()),2&a){const m=t.MAs(53),p=t.MAs(63),V=t.MAs(91);t.xp6(2),t.hij("",i.formData.title," Load"),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(7),t.Q6J("ngForOf",i.loadCategoryList),t.xp6(8),t.Q6J("ngIf",i.hasError("description","required")),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(6),t.Q6J("ngIf",i.hasError("weight","required")),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",!i.getLoadTypeLiquid()),t.xp6(1),t.Q6J("ngIf",i.getLoadTypeLiquid()),t.xp6(6),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.hasError("originatingAddressLabel","required")),t.xp6(6),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.hasError("destinationAddressLabel","required")),t.xp6(5),t.Q6J("ngxMatDatetimePicker",m),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(9),t.Q6J("ngxMatDatetimePicker",p),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(10),t.Q6J("ngIf",i.hasError("note","required")),t.xp6(6),t.Q6J("ngIf",i.hasError("totalValue","required")),t.xp6(6),t.Q6J("ngIf",i.hasError("price","required")),t.xp6(5),t.Q6J("ngxMatDatetimePicker",V),t.xp6(1),t.Q6J("ngIf",!i.readOnly),t.xp6(10),t.Q6J("ngForOf",i.formData.notificationList),t.xp6(8),t.Q6J("ngIf",!i.readOnly),t.xp6(2),t.Q6J("ngIf",i.previewImage&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",!i.previewImage&&i.form.value.avatar&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",!i.previewImage&&!i.form.value.avatar&&!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly&&i.form.value.avatar),t.xp6(1),t.Q6J("ngIf",i.readOnly&&!i.form.value.avatar),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly),t.xp6(2),t.Q6J("ngIf",i.readOnly),t.xp6(4),t.Q6J("ngIf",!i.readOnly),t.xp6(1),t.Q6J("ngIf",i.readOnly)}},directives:[h.uh,A.xw,h.xY,n._Y,n.JL,A.Wh,A.yH,n.sg,x.KE,x.hX,O.gD,n.JJ,n.u,U.sg,x.TO,y.Nt,n.Fj,U.O5,n.wV,b.g2,b.AB,h.H8,M.lW,q.Nv,q.ey,x.R9,w.Hw,P.nW,N.k,g.T],encapsulation:2}),e})()}}]);