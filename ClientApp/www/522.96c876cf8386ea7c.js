"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[522],{8120:(P,E,r)=>{r.d(E,{T:()=>v,r:()=>S});var m=r(5e3),l=r(7093),o=r(9808),T=r(5245);function e(Z,C){if(1&Z){const _=m.EpF();m.TgZ(0,"mat-icon",2),m.NdJ("click",function(){const f=m.CHM(_).index;return m.oxw().onClick(f+1)}),m._uU(1),m.qZA()}if(2&Z){const _=C.index,t=m.oxw();m.Q6J("color",t.color)("id","star_"+_),m.xp6(1),m.hij(" ",t.showIcon(_)," ")}}let v=(()=>{class Z{constructor(){this.rating=3,this.starCount=5,this.color="accent",this.ratingUpdated=new m.vpe,this.ratingArr=[]}ngOnInit(){for(let _=0;_<this.starCount;_++)this.ratingArr.push(_)}onClick(_){return this.ratingUpdated.emit(_),!1}showIcon(_){return this.rating>=_+1?"star":"star_border"}}return Z.\u0275fac=function(_){return new(_||Z)},Z.\u0275cmp=m.Xpm({type:Z,selectors:[["mat-star-rating"]],inputs:{rating:"rating",starCount:"starCount",color:"color"},outputs:{ratingUpdated:"ratingUpdated"},decls:2,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-around center"],[3,"color","id","click",4,"ngFor","ngForOf"],[3,"color","id","click"]],template:function(_,t){1&_&&(m.TgZ(0,"div",0),m.YNc(1,e,2,3,"mat-icon",1),m.qZA()),2&_&&(m.xp6(1),m.Q6J("ngForOf",t.ratingArr))},directives:[l.xw,l.Wh,o.sg,T.Hw],styles:[""]}),Z})();var S=(()=>{return(Z=S||(S={})).primary="primary",Z.accent="accent",Z.warn="warn",S;var Z})()},2388:(P,E,r)=>{r.d(E,{S:()=>H});var m=r(8966),l=r(7579),o=r(7738),T=r(3098),e=r(5e3),v=r(8279),S=r(2313),Z=r(7093),C=r(3075),_=r(7322),t=r(4107),y=r(9808),f=r(7531),A=r(24),p=r(7423),U=r(508),I=r(6856),k=r(8120);function M(u,b){if(1&u&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&u){const c=b.$implicit;e.Q6J("value",c.id),e.xp6(1),e.hij(" ",c.description,"")}}function N(u,b){if(1&u&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&u){const c=b.$implicit;e.Q6J("value",c.id),e.xp6(1),e.hij(" ",c.description,"")}}function q(u,b){if(1&u&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&u){const c=b.$implicit;e.Q6J("value",c.id),e.xp6(1),e.hij(" ",c.firstName+" "+c.lastName,"")}}function Y(u,b){1&u&&(e.TgZ(0,"mat-error"),e._uU(1,"Price is required"),e.qZA())}function J(u,b){if(1&u&&e._UZ(0,"mat-datepicker-toggle",23),2&u){e.oxw();const c=e.MAs(42);e.Q6J("for",c)}}function Q(u,b){if(1&u&&e._UZ(0,"mat-datepicker-toggle",23),2&u){e.oxw();const c=e.MAs(52);e.Q6J("for",c)}}function R(u,b){if(1&u&&(e.TgZ(0,"mat-form-field",24),e.TgZ(1,"mat-label"),e._uU(2,"Driver Rating"),e.qZA(),e._UZ(3,"input",25),e._UZ(4,"mat-star-rating",26),e.TgZ(5,"mat-error"),e._uU(6,"Rating is required"),e.qZA(),e.TgZ(7,"mat-hint"),e.TgZ(8,"b"),e._uU(9),e.qZA(),e._uU(10," Reviews"),e.qZA(),e.qZA()),2&u){const c=e.oxw();e.xp6(4),e.Q6J("rating",c.reviewDriver)("starCount",5)("color",c.starColorP),e.xp6(5),e.Oqu(c.bidRow.reviewDriverCount)}}function W(u,b){if(1&u){const c=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(c),e.oxw().accept()}),e._uU(1,"Accept"),e.qZA()}if(2&u){const c=e.oxw();e.Q6J("disabled",!c.form.valid)}}function F(u,b){if(1&u){const c=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(c),e.oxw().decline()}),e._uU(1,"Decline"),e.qZA()}if(2&u){const c=e.oxw();e.Q6J("disabled",!c.form.valid)}}function K(u,b){if(1&u){const c=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(c),e.oxw().onYesClick()}),e._uU(1,"Submit"),e.qZA()}if(2&u){const c=e.oxw();e.Q6J("disabled",!c.form.valid)}}let H=(()=>{class u{constructor(c,x,D,L,j){this.dialog=c,this.dialogRef=x,this.data=D,this.apiService=L,this.sanitizer=j,this.previewImage=null,this.readOnly=!1,this.hasError=($,z)=>this.form.controls[$].hasError(z),this.formErrors=D.formErrors,this.formData=D,this.bidRow=D.item,this.readOnly=1==D.readOnly,this._unsubscribeAll=new l.x}ngOnInit(){this.form=this.data.form,this.formValid=!1}initCamera(){const c=new m.vA;c.autoFocus=!0,c.disableClose=!0,c.hasBackdrop=!0,c.ariaLabel="fffff",c.width="800px",this.dialog.open(o._,c).afterClosed().subscribe(D=>{D&&(this.form.controls.avatar.setValue(D._imageAsDataUrl),this.previewImage=D._imageAsDataUrl)})}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(this.form.value)}accept(){this.bidRow.statusId=T.i.parse("6a21aec4-fb07-4740-98b5-b8ecfad465d7"),this.bidRow.statusDescription="Accepted",this.dialogRef.close(this.bidRow)}decline(){this.bidRow.statusId=T.i.parse("e12dcdd2-65e0-48d3-a313-1b796a7668f9"),this.bidRow.statusDescription="Declined",this.dialogRef.close(this.bidRow)}}return u.\u0275fac=function(c){return new(c||u)(e.Y36(m.uw),e.Y36(m.so),e.Y36(m.WI),e.Y36(v.s),e.Y36(S.H7))},u.\u0275cmp=e.Xpm({type:u,selectors:[["dialog-bid"]],decls:64,vars:14,consts:[["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary"],["mat-dialog-content","","fxLayout","column"],["fxLayout","column","fxLayoutAlign","start","fxFlex","1 0 auto","name","form","novalidate","",1,"mat-white-bg","w-100-p",2,"padding","0px!important",3,"formGroup"],["fxLayout","row wrap",1,"w-100-p"],["fxFlex","100","fxFlex.gt-xs","50",1,"p-4",2,"padding","0px!important"],["appearance","outline",1,"w-100-p"],["placeholder","LoadId","formControlName","loadId"],[3,"value",4,"ngFor","ngForOf"],["placeholder","VehicleId","formControlName","vehicleId"],["placeholder","DriverId","formControlName","driverId"],["matInput","","type","number","placeholder","Price","formControlName","price","id","price"],[4,"ngIf"],["matInput","","placeholder","Choose a date","formControlName","dateOut",3,"ngxMatDatetimePicker"],["matSuffix","",3,"for",4,"ngIf"],["picker_dateOut",""],["matInput","","placeholder","Choose a date","formControlName","dateIn",3,"ngxMatDatetimePicker"],["picker_dateIn",""],["appearance","outline","class","w-100-p","floatLabel","true",4,"ngIf"],["mat-dialog-actions","",1,"dialog-footer"],[2,"flex","1 1 auto"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],[3,"value"],["matSuffix","",3,"for"],["appearance","outline","floatLabel","true",1,"w-100-p"],["matInput","","type","number","placeholder","Punctuality","formControlName","reviewDriver","id","reviewDriver",2,"display","none"],[3,"rating","starCount","color"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(c,x){if(1&c&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"form",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"mat-form-field",5),e.TgZ(7,"mat-label"),e._uU(8,"Load Description"),e.qZA(),e.TgZ(9,"mat-select",6),e.YNc(10,M,2,2,"mat-option",7),e.qZA(),e.TgZ(11,"mat-error"),e._uU(12,"Load Description is required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"mat-form-field",5),e.TgZ(15,"mat-label"),e._uU(16,"Vehicle"),e.qZA(),e.TgZ(17,"mat-select",8),e.YNc(18,N,2,2,"mat-option",7),e.qZA(),e.TgZ(19,"mat-error"),e._uU(20,"Vehicle is required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",4),e.TgZ(22,"mat-form-field",5),e.TgZ(23,"mat-label"),e._uU(24,"Driver"),e.qZA(),e.TgZ(25,"mat-select",9),e.YNc(26,q,2,2,"mat-option",7),e.qZA(),e.TgZ(27,"mat-error"),e._uU(28,"Driver is required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",4),e.TgZ(30,"mat-form-field",5),e.TgZ(31,"mat-label"),e._uU(32,"Price"),e.qZA(),e._UZ(33,"input",10),e.YNc(34,Y,2,0,"mat-error",11),e.qZA(),e.qZA(),e.TgZ(35,"div",4),e.TgZ(36,"mat-form-field",5),e.TgZ(37,"mat-label"),e._uU(38,"Departure Date"),e.qZA(),e._UZ(39,"input",12),e.YNc(40,J,1,1,"mat-datepicker-toggle",13),e._UZ(41,"ngx-mat-datetime-picker",null,14),e.TgZ(43,"mat-error"),e._uU(44,"Departure Date is required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",4),e.TgZ(46,"mat-form-field",5),e.TgZ(47,"mat-label"),e._uU(48,"Delivery Date"),e.qZA(),e._UZ(49,"input",15),e.YNc(50,Q,1,1,"mat-datepicker-toggle",13),e._UZ(51,"ngx-mat-datetime-picker",null,16),e.TgZ(53,"mat-error"),e._uU(54,"Delivery Date is required"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",4),e.YNc(56,R,11,4,"mat-form-field",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",18),e._UZ(58,"span",19),e.TgZ(59,"button",20),e.NdJ("click",function(){return x.onNoClick()}),e._uU(60,"Cancel"),e.qZA(),e.YNc(61,W,2,1,"button",21),e.YNc(62,F,2,1,"button",21),e.YNc(63,K,2,1,"button",21),e.qZA()),2&c){const D=e.MAs(42),L=e.MAs(52);e.xp6(1),e.hij("",x.formData.title," Bid"),e.xp6(2),e.Q6J("formGroup",x.form),e.xp6(7),e.Q6J("ngForOf",x.formData.loadList),e.xp6(8),e.Q6J("ngForOf",x.formData.vehicleList),e.xp6(8),e.Q6J("ngForOf",x.formData.driverList),e.xp6(8),e.Q6J("ngIf",x.hasError("price","required")),e.xp6(5),e.Q6J("ngxMatDatetimePicker",D),e.xp6(1),e.Q6J("ngIf",!x.readOnly),e.xp6(9),e.Q6J("ngxMatDatetimePicker",L),e.xp6(1),e.Q6J("ngIf",!x.readOnly),e.xp6(6),e.Q6J("ngIf",x.readOnly),e.xp6(5),e.Q6J("ngIf",x.readOnly),e.xp6(1),e.Q6J("ngIf",x.readOnly),e.xp6(1),e.Q6J("ngIf",!x.readOnly)}},directives:[m.uh,m.xY,Z.xw,C._Y,C.JL,Z.Wh,Z.yH,C.sg,_.KE,_.hX,t.gD,C.JJ,C.u,y.sg,_.TO,f.Nt,C.wV,C.Fj,y.O5,A.g2,A.AB,m.H8,p.lW,U.ey,I.nW,_.R9,k.T,_.bx],encapsulation:2}),u})()},7738:(P,E,r)=>{r.d(E,{_:()=>y});var m=r(7295),l=r(7579),o=r(5e3),T=r(8966),e=r(9808),v=r(7423);function S(f,A){if(1&f){const p=o.EpF();o.TgZ(0,"webcam",11),o.NdJ("imageCapture",function(I){return o.CHM(p),o.oxw(2).handleImage(I)}),o.qZA()}if(2&f){const p=o.oxw(2);o.Q6J("height",500)("width",1e3)("trigger",p.triggerObservable)("switchCamera",p.nextWebcamObservable)}}function Z(f,A){if(1&f&&(o.TgZ(0,"ul"),o.TgZ(1,"li"),o._uU(2),o.ALo(3,"json"),o.qZA(),o.qZA()),2&f){const p=A.$implicit;o.xp6(2),o.Oqu(o.lcZ(3,1,p))}}function C(f,A){if(1&f&&(o.TgZ(0,"div"),o.TgZ(1,"h4"),o._uU(2,"Error Messages:"),o.qZA(),o.YNc(3,Z,4,3,"ul",12),o.qZA()),2&f){const p=o.oxw(2);o.xp6(3),o.Q6J("ngForOf",p.errors)}}function _(f,A){if(1&f&&(o.TgZ(0,"div"),o.TgZ(1,"div",8),o.YNc(2,S,1,4,"webcam",9),o.qZA(),o.YNc(3,C,4,1,"div",10),o.qZA()),2&f){const p=o.oxw();o.xp6(2),o.Q6J("ngIf",p.showWebcam),o.xp6(1),o.Q6J("ngIf",p.errors.length>0)}}function t(f,A){1&f&&o._uU(0," Camera device not available ")}let y=(()=>{class f{constructor(p){this.dialogRef=p,this.showWebcam=!0,this.isCameraExist=!0,this.errors=[],this.trigger=new l.x,this.nextWebcam=new l.x}ngOnInit(){m.BF.getAvailableVideoInputs().then(p=>{this.isCameraExist=p&&p.length>0})}takeSnapshot(){this.trigger.next()}onOffWebCame(){this.showWebcam=!this.showWebcam}handleInitError(p){this.errors.push(p)}changeWebCame(p){this.nextWebcam.next(p)}handleImage(p){this.dialogRef.close(p)}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}cancel(){this.dialogRef.close(null)}}return f.\u0275fac=function(p){return new(p||f)(o.Y36(T.so))},f.\u0275cmp=o.Xpm({type:f,selectors:[["app-camera"]],decls:12,vars:2,consts:[["mat-dialog-title","",1,"accent","dialog-title","bg-primary","text-on-primary","text-secondary",2,"margin-bottom","0px !important"],["mat-dialog-content","",2,"padding","0!important"],[4,"ngIf","ngIfElse"],["noCameraExist",""],["mat-dialog-actions","",1,"dialog-footer",2,"margin-top","0px !important"],[2,"flex","1 1 auto"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[2,"text-align","center"],[3,"height","width","trigger","switchCamera","imageCapture",4,"ngIf"],[4,"ngIf"],[3,"height","width","trigger","switchCamera","imageCapture"],[4,"ngFor","ngForOf"]],template:function(p,U){if(1&p&&(o.TgZ(0,"h1",0),o._uU(1,"Take Photo"),o.qZA(),o.TgZ(2,"div",1),o.YNc(3,_,4,2,"div",2),o.YNc(4,t,1,0,"ng-template",null,3,o.W1O),o.qZA(),o.TgZ(6,"div",4),o._UZ(7,"span",5),o.TgZ(8,"button",6),o.NdJ("click",function(){return U.cancel()}),o._uU(9,"Cancel"),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return U.takeSnapshot()}),o._uU(11,"Take Photo"),o.qZA(),o.qZA()),2&p){const I=o.MAs(5);o.xp6(3),o.Q6J("ngIf",U.isCameraExist)("ngIfElse",I)}},directives:[T.uh,T.xY,e.O5,T.H8,v.lW,m.i3,e.sg],pipes:[e.Ts],styles:[".button[_ngcontent-%COMP%]{color:#fff;background-color:#00f;padding:4px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;transition-duration:.4s;cursor:pointer;border-radius:2px}ul.links[_ngcontent-%COMP%]{padding-bottom:10px}"]}),f})()},8522:(P,E,r)=>{r.r(E),r.d(E,{BidsModule:()=>pt});var m=r(4521),l=r(3075),o=r(8966),T=r(6087),e=r(4847),v=r(4999),S=r(3098),Z=r(2388),C=r(8120),_=r(3413),t=r(5e3),y=r(8279),f=r(7261),A=r(6407),p=r(6362),U=r(1683),I=r(9224),k=r(1708),M=r(9808),N=r(7423),q=r(7238),Y=r(5245);function J(a,d){1&a&&t._UZ(0,"th",25)}function Q(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().initUpsert(n,0)}),t.TgZ(1,"mat-icon",34),t._uU(2,"edit"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function R(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().initDelete(n.id)}),t.TgZ(1,"mat-icon",34),t._uU(2,"delete"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function W(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().updateStatus(n,"Loaded")}),t.TgZ(1,"mat-icon",34),t._uU(2,"check_circle_outline"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function F(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().updateStatus(n,"In Transit")}),t.TgZ(1,"mat-icon",34),t._uU(2,"check_circle"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function K(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().updateStatus(n,"Delivered")}),t.TgZ(1,"mat-icon",34),t._uU(2,"check_circle_outline"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function H(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit;return t.oxw().updateStatus(n,"Completed")}),t.TgZ(1,"mat-icon",34),t._uU(2,"check_circle"),t.qZA(),t.qZA()}if(2&a){const i=t.oxw(2);t.Q6J("disabled",i.loading)}}function u(a,d){if(1&a&&(t.TgZ(0,"td",26),t.YNc(1,Q,3,1,"button",27),t.YNc(2,R,3,1,"button",28),t.YNc(3,W,3,1,"button",29),t.YNc(4,F,3,1,"button",30),t.YNc(5,K,3,1,"button",31),t.YNc(6,H,3,1,"button",32),t.qZA()),2&a){const i=d.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngIf","Open"===(i.status?i.status.description:"")),t.xp6(1),t.Q6J("ngIf","Open"===(i.status?i.status.description:"")),t.xp6(1),t.Q6J("ngIf","Accepted"===(i.load.status?i.load.status.description:"")&&"Accepted"===(i.status?i.status.description:"")),t.xp6(1),t.Q6J("ngIf","Loaded"===(i.load.status?i.load.status.description:"")&&"Accepted"===(i.status?i.status.description:"")&&i.load.userIdLoaded!==s.userId),t.xp6(1),t.Q6J("ngIf","In Transit"===(i.load.status?i.load.status.description:"")&&"Accepted"===(i.status?i.status.description:"")),t.xp6(1),t.Q6J("ngIf","Delivered"===(i.load.status?i.load.status.description:"")&&"Accepted"===(i.status?i.status.description:"")&&i.load.userIdDelivered!==s.userId)}}function b(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",41),t._uU(2,"UserId"),t.qZA(),t.qZA())}function c(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.user?i.user.description:""," ")}}function x(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",43),t._uU(2,"Company"),t.qZA(),t.qZA())}function D(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t._UZ(2,"br"),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.userCompany," ")}}function L(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",44),t._uU(2,"Load Description"),t.qZA(),t.qZA())}function j(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.load?i.load.description:""," ")}}function $(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",45),t._uU(2,"Vehicle"),t.qZA(),t.qZA())}function z(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.vehicle?i.vehicle.description:""," ")}}function G(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",46),t._uU(2,"Driver"),t.qZA(),t.qZA())}function V(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t._UZ(2,"br"),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.driver?i.driver.firstName+" "+i.driver.lastName:""," ")}}function X(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",47),t._uU(2,"Price"),t.qZA(),t.qZA())}function tt(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"number"),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" R",t.lcZ(2,1,i.price)," ")}}function et(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",48),t._uU(2,"Departure Date"),t.qZA(),t.qZA())}function it(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.dateOut)," ")}}function ot(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",49),t._uU(2,"Delivery Date"),t.qZA(),t.qZA())}function at(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.dateIn)," ")}}function nt(a,d){1&a&&(t.TgZ(0,"th",40),t.TgZ(1,"p",50),t._uU(2,"Status"),t.qZA(),t.qZA())}function rt(a,d){if(1&a&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&a){const i=d.$implicit;t.xp6(1),t.hij(" ",i.status?"Accepted"!==i.status.description?i.status.description:i.load.status.description:""," ")}}function st(a,d){1&a&&t._UZ(0,"tr",51)}function lt(a,d){1&a&&t._UZ(0,"tr",52)}const ct=function(){return[5,10,25,100]};let dt=(()=>{class a{constructor(i,s,n,g,O,h,B,w){this.dialog=i,this._formBuilder=s,this.apiService=n,this._snackBar=g,this.variableService=O,this._router=h,this.fuseSplashScreenService=B,this.fuseConfirmationService=w,this.loading=!0,this.loadList=[],this.vehicleList=[],this.driverList=[],this.bidList=[],this.starColor=C.r.accent,this.starColorP=C.r.primary,this.starColorW=C.r.warn,this.userId=localStorage.getItem("userId"),this.fuseSplashScreenService.show(),this.loading=!0,this.displayedColumns=["cud","loadDescription","vehicleDescription","driverDescription","price","statusDescription"]}ngOnInit(){this.getLoads().then(i=>{this.loadList=i,console.log("userId",this.userId),console.log("loadList",this.loadList),this.getVehicles().then(s=>{this.vehicleList=s,this.getDrivers().then(n=>{this.driverList=n,this.getBids().then(g=>{this.variableService.setPageSelected("Bids"),this.bidList=g,this.dataSource=new v.by(this.bidList),this.fuseSplashScreenService.hide(),this.loading=!1})})})})}getBids(){return new Promise(s=>{try{this.apiService.get("bids").subscribe({next:n=>{1==n.result?(console.log(n.data),s(n.data)):"Expired"==n.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+n.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:n=>{console.log(n),this._snackBar.open("Error: "+n,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(n){s([])}})}getVehicles(){return new Promise(s=>{try{this.apiService.get("vehicles").subscribe({next:n=>{1==n.result?s(n.data):"Expired"==n.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+n.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:n=>{console.log(n),this._snackBar.open("Error: "+n,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(n){s([])}})}getDrivers(){return new Promise(s=>{try{this.apiService.get("drivers").subscribe({next:n=>{1==n.result?s(n.data):"Expired"==n.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+n.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:n=>{console.log(n),this._snackBar.open("Error: "+n,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(n){s([])}})}getLoads(){return new Promise(s=>{try{this.apiService.get("loads").subscribe({next:n=>{1==n.result?s(n.data):"Expired"==n.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+n.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:n=>{console.log(n),this._snackBar.open("Error: "+n,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(n){s([])}})}initUpsert(i,s){this.form=this._formBuilder.group({id:[null==i?S.i.create().toString():i.id],userId:[null==i?localStorage.getItem("userId"):i.userId],loadId:[{value:null==i?null:i.loadId,disabled:1==s},l.kI.required],loadDescription:[null==i?null:i.loadDescription],vehicleId:[{value:null==i?null:i.vehicleId,disabled:1==s},l.kI.required],vehicleDescription:[null==i?null:i.vehicleDescription],driverId:[{value:null==i?null:i.driverId,disabled:1==s},l.kI.required],driverDescription:[null==i?null:i.driverDescription],price:[{value:null==i?null:i.price,disabled:1==s},l.kI.required],dateOut:[{value:null==i?null:i.dateOut,disabled:1==s},l.kI.required],dateIn:[{value:null==i?null:i.dateIn,disabled:1==s},l.kI.required],statusId:[null==i?S.i.parse("B3B7D04D-64B7-4ED7-BFE1-CF06D2B4A8AB"):i.statusId],statusDescription:[null==i?null:i.statusDescription],reviewDriver:[i.reviewDriver],reviewDriverCount:[i.reviewDriverCount]});const n=new o.vA;n.data={item:i,form:this.form,loadList:this.loadList,vehicleList:this.vehicleList,driverList:this.driverList,title:s?"View":null==i?"Insert":"Update",readOnly:s},n.autoFocus=!0,n.disableClose=!0,n.hasBackdrop=!0,n.ariaLabel="fffff",n.width="800px",this.dialog.open(Z.S,n).afterClosed().subscribe(O=>{!1!==O&&(this.fuseSplashScreenService.show(),this.loading=!0,null==i?this.apiService.post("bids",null,O).subscribe({next:h=>{1==h.result?this.getBids().then(B=>{this.bidList=B,this.dataSource=new v.by(this.bidList),this.fuseSplashScreenService.hide(),this.loading=!1}):"Expired"==h.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+h.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:h=>{console.log(h),this._snackBar.open("Error: "+h,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}):this.apiService.put("bids",O).subscribe({next:h=>{1==h.result?setTimeout(()=>{this.getBids().then(B=>{this.bidList=B,this.dataSource=new v.by(this.bidList),this.fuseSplashScreenService.hide(),this.loading=!1})},100):"Expired"==h.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+h.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:h=>{console.log(h),this._snackBar.open("Error: "+h,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))})}initDelete(i){this.deleteForm=this._formBuilder.group({title:"Delete Bid",message:"Are you sure you want to remove this Bid?",icon:this._formBuilder.group({show:!0,name:"heroicons_outline:exclamation",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Remove",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"Cancel"})}),dismissible:!0}),this.fuseConfirmationService.open(this.deleteForm.value).afterClosed().subscribe(n=>{"confirmed"===n&&(this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.delete("bids",i).subscribe({next:g=>{1==g.result?(this.bidList.splice(this.bidList.findIndex(O=>O.id===g.id),1),this.dataSource=new v.by(this.bidList),this.fuseSplashScreenService.hide(),this.loading=!1):"Expired"==g.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+g.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:g=>{console.log(g),this._snackBar.open("Error: "+g,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))})}updateStatus(i,s){"Delivered"===s||"Completed"===s?this.initRating(i,"Load",s):(this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.post("loads","status",{id:i.loadId,description:s}).subscribe({next:n=>{1==n.result?(this.getBids().then(g=>{this.dataSource=new v.by(g),this.fuseSplashScreenService.hide(),this.loading=!1}),this.fuseSplashScreenService.hide(),this.loading=!1):"Expired"==n.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+n.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:n=>{console.log(n),this._snackBar.open("Error: "+n,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))}initRating(i,s,n){this.form=this._formBuilder.group({id:[S.i.create()],loadId:[i.id],userId:[i.userId],ratingPunctuality:[0],ratingVehicleDescription:[0],ratingLoadDescription:[0],ratingCare:[0],ratingCondition:[0],ratingPayment:[0],ratingAttitude:[0],note:[""]});const g=new o.vA;g.data={item:i,form:this.form,reviewType:s,title:"Add"},g.autoFocus=!0,g.disableClose=!0,g.hasBackdrop=!0,g.ariaLabel="fffff",g.width="800px",this.dialog.open(_.M,g).afterClosed().subscribe(h=>{!1!==h&&(this.fuseSplashScreenService.show(),this.loading=!0,this.apiService.post("reviewLoads",null,{loadId:i.loadId,ratingPunctuality:h.ratingPunctuality,ratingLoadDescription:h.ratingLoadDescription,ratingPayment:h.ratingPayment,ratingCare:h.ratingCare,ratingAttitude:h.ratingAttitude,note:h.note}).subscribe({next:B=>{1==B.result?this.apiService.post("loads","status",{id:i.loadId,description:n}).subscribe({next:w=>{1==w.result?(this.getBids().then(gt=>{this.dataSource=new v.by(gt),this.fuseSplashScreenService.hide(),this.loading=!1}),this.fuseSplashScreenService.hide(),this.loading=!1):"Expired"==w.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+w.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:w=>{console.log(w),this._snackBar.open("Error: "+w,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}):"Expired"==B.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+B.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:B=>{console.log(B),this._snackBar.open("Error: "+B,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}}))})}getAddressSubstring(i,s){let n=i.split(s);return n.length>1?n[0]+","+n[1]:i}onRatingChanged(i){}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(o.uw),t.Y36(l.qu),t.Y36(y.s),t.Y36(f.ux),t.Y36(A.S),t.Y36(m.F0),t.Y36(p.j),t.Y36(U.R))},a.\u0275cmp=t.Xpm({type:a,selectors:[["bids"]],viewQuery:function(i,s){if(1&i&&(t.Gf(T.NW,5),t.Gf(e.YE,5)),2&i){let n;t.iGM(n=t.CRH())&&(s.paginatorBid=n.first),t.iGM(n=t.CRH())&&(s.sortBid=n.first)}},decls:42,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["fusePerfectScrollbar","",1,"page-layout","blank","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"table-container","bg-card","shadow","rounded-2xl"],[1,"mat-elevation-z5",2,"padding","4px!important"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cud"],["mat-header-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;",4,"matHeaderCellDef"],["mat-cell","","class","cudColumnExtra ml-0 pl-12","style","padding-left: 0px!important;",4,"matCellDef"],["matColumnDef","userDescription"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","table-cell",4,"matCellDef"],["matColumnDef","userCompany"],["matColumnDef","loadDescription"],["matColumnDef","vehicleDescription"],["matColumnDef","driverDescription"],["matColumnDef","price"],["matColumnDef","dateOut"],["matColumnDef","dateIn"],["matColumnDef","statusDescription"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","disabled"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],["mat-header-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"padding-left","0px!important"],["mat-cell","",1,"cudColumnExtra","ml-0","pl-12",2,"padding-left","0px!important"],["mat-icon-button","","color","default","matTooltip","Update Bid",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Remove Bid",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Mark as Loaded",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Confirm Loaded",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Mark as Delivered",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Confirm Delivered",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","default","matTooltip","Update Bid",3,"disabled","click"],[1,"fab-icon"],["mat-icon-button","","color","default","matTooltip","Remove Bid",3,"disabled","click"],["mat-icon-button","","color","default","matTooltip","Mark as Loaded",3,"disabled","click"],["mat-icon-button","","color","default","matTooltip","Confirm Loaded",3,"disabled","click"],["mat-icon-button","","color","default","matTooltip","Mark as Delivered",3,"disabled","click"],["mat-icon-button","","color","default","matTooltip","Confirm Delivered",3,"disabled","click"],["mat-header-cell",""],["mat-sort-header","userDescription",1,"table-header"],["mat-cell","",1,"table-cell"],["mat-sort-header","userCompany",1,"table-header"],["mat-sort-header","loadDescription",1,"table-header"],["mat-sort-header","row.vehicle ? row.vehicle.description : ''",1,"table-header"],["mat-sort-header","driverDescription",1,"table-header"],["mat-sort-header","price",1,"table-header"],["mat-sort-header","dateOut",1,"table-header"],["mat-sort-header","dateIn",1,"table-header"],["mat-sort-header","statusDescription",1,"table-header"],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"mat-card",5),t.TgZ(6,"table",6),t.ynx(7,7),t.YNc(8,J,1,0,"th",8),t.YNc(9,u,7,6,"td",9),t.BQk(),t.ynx(10,10),t.YNc(11,b,3,0,"th",11),t.YNc(12,c,2,1,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,x,3,0,"th",11),t.YNc(15,D,3,1,"td",12),t.BQk(),t.ynx(16,14),t.YNc(17,L,3,0,"th",11),t.YNc(18,j,2,1,"td",12),t.BQk(),t.ynx(19,15),t.YNc(20,$,3,0,"th",11),t.YNc(21,z,2,1,"td",12),t.BQk(),t.ynx(22,16),t.YNc(23,G,3,0,"th",11),t.YNc(24,V,3,1,"td",12),t.BQk(),t.ynx(25,17),t.YNc(26,X,3,0,"th",11),t.YNc(27,tt,3,3,"td",12),t.BQk(),t.ynx(28,18),t.YNc(29,et,3,0,"th",11),t.YNc(30,it,3,3,"td",12),t.BQk(),t.ynx(31,19),t.YNc(32,ot,3,0,"th",11),t.YNc(33,at,3,3,"td",12),t.BQk(),t.ynx(34,20),t.YNc(35,nt,3,0,"th",11),t.YNc(36,rt,2,1,"td",12),t.BQk(),t.YNc(37,st,1,0,"tr",21),t.YNc(38,lt,1,0,"tr",22),t.qZA(),t._UZ(39,"mat-paginator",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div",24),t._UZ(41,"advert"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(6),t.Q6J("dataSource",s.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",s.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,ct))("pageSize",10)("disabled",s.loading))},directives:[I.a8,v.BZ,e.YE,v.w1,v.fO,v.Dz,v.as,v.nj,T.NW,k.I,v.ge,v.ev,M.O5,N.lW,q.gM,Y.Hw,e.nU,v.XQ,v.Gk],pipes:[M.JJ,M.uU],encapsulation:2}),a})();var ut=r(7776);const mt=[{path:"",component:dt}];let pt=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.Bz.forChild(mt),ut.m]]}),a})()},3098:(P,E)=>{var m=function(){function l(o){if(!o)throw new TypeError("Invalid argument; `value` has no value.");this.value=l.EMPTY,o&&l.isGuid(o)&&(this.value=o)}return l.isGuid=function(o){var T=o.toString();return o&&(o instanceof l||l.validator.test(T))},l.create=function(){return new l([l.gen(2),l.gen(1),l.gen(1),l.gen(1),l.gen(3)].join("-"))},l.createEmpty=function(){return new l("emptyguid")},l.parse=function(o){return new l(o)},l.raw=function(){return[l.gen(2),l.gen(1),l.gen(1),l.gen(1),l.gen(3)].join("-")},l.gen=function(o){for(var T="",e=0;e<o;e++)T+=(65536*(1+Math.random())|0).toString(16).substring(1);return T},l.prototype.equals=function(o){return l.isGuid(o)&&this.value===o.toString()},l.prototype.isEmpty=function(){return this.value===l.EMPTY},l.prototype.toString=function(){return this.value},l.prototype.toJSON=function(){return{value:this.value}},l.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),l.EMPTY="00000000-0000-0000-0000-000000000000",l}();E.i=m}}]);