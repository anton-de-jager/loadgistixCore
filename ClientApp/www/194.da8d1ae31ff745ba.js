"use strict";(self.webpackChunkloadgistix=self.webpackChunkloadgistix||[]).push([[194],{1708:(D,h,i)=>{i.d(h,{I:()=>C});var p=i(7445),e=i(5e3),Z=i(8279),t=i(7261),_=i(6407),y=i(8951),A=i(4521),f=i(9808),u=i(9224);function T(s,m){if(1&s&&e._UZ(0,"img",7),2&s){const o=e.oxw().$implicit;e.Q6J("src","/Images/Adverts/"+o.id+o.avatar,e.LSH)}}function I(s,m){if(1&s&&(e.TgZ(0,"mat-card",3),e.TgZ(1,"mat-card-title-group"),e.TgZ(2,"mat-card-title",4),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.qZA(),e.YNc(6,T,1,1,"img",5),e.qZA(),e.TgZ(7,"mat-card-content"),e._uU(8),e._UZ(9,"br"),e._UZ(10,"br"),e.TgZ(11,"a",6),e._uU(12),e.qZA(),e.qZA(),e.qZA()),2&s){const o=m.$implicit;e.xp6(3),e.Oqu(o.title),e.xp6(2),e.Oqu(o.subTitle),e.xp6(1),e.Q6J("ngIf",o.avatar),e.xp6(2),e.hij(" ",o.content,""),e.xp6(3),e.Q6J("href",o.link,e.LSH),e.xp6(1),e.Oqu(o.link)}}function S(s,m){if(1&s&&(e.ynx(0),e.YNc(1,I,13,6,"mat-card",2),e.BQk()),2&s){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.advertItems)}}function x(s,m){1&s&&(e.TgZ(0,"mat-card",3),e.TgZ(1,"mat-card-title-group"),e.TgZ(2,"mat-card-title",4),e._uU(3,"Loadgistix"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"Get more"),e.qZA(),e._UZ(6,"img",8),e.qZA(),e.TgZ(7,"mat-card-content"),e._uU(8," Contact us today - we will show you how to get the best out of Loadgistix! "),e.qZA(),e.qZA())}let C=(()=>{class s{constructor(o,c,r,v,B){this.apiService=o,this._snackBar=c,this.variableService=r,this.authService=v,this._router=B,this.loading=!0,this.advertItems=[]}ngOnInit(){this.getAdverts().then(c=>{this.advertItems=c});const o=(0,p.F)(6e5);this.subscription=o.subscribe(c=>{this.authService.check().subscribe(r=>{r&&this.getAdverts().then(v=>{this.advertItems=v})})})}getAdverts(){return new Promise(c=>{try{this.apiService.post("adverts","available",null).subscribe({next:r=>{1==r.result?c(r.data):"Expired"==r.message?this._router.navigate(["/sign-out"]):this._snackBar.open("Error: "+r.message,null,{duration:2e3})},error:r=>{console.log(r),this._snackBar.open("Error: "+r,null,{duration:2e3})},complete:()=>{}})}catch(r){c([])}})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(Z.s),e.Y36(t.ux),e.Y36(_.S),e.Y36(y.e),e.Y36(A.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["advert"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngIf"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden","style","margin-bottom: 12px;",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden",2,"margin-bottom","12px"],[2,"font-size","18px"],["mat-card-sm-image","",3,"src",4,"ngIf"],["target","_blank",3,"href"],["mat-card-sm-image","",3,"src"],["mat-card-sm-image","","src","assets/images/no-image.jpg"]],template:function(o,c){1&o&&(e.YNc(0,S,2,1,"ng-container",0),e.YNc(1,x,9,0,"mat-card",1)),2&o&&(e.Q6J("ngIf",c.advertItems.length>0),e.xp6(1),e.Q6J("ngIf",0===c.advertItems.length))},directives:[f.O5,f.sg,u.a8,u.C1,u.n5,u.$j,u.dn,u.vP],styles:[".mat-card-sm-image[_ngcontent-%COMP%]{max-width:120px;max-height:120px;width:auto;height:auto}"]}),s})()},5194:(D,h,i)=>{i.r(h),i.d(h,{BusinessDirectoryModule:()=>Q});var p=i(4521),e=i(7579),Z=i(2722),t=i(5e3),_=i(8966),y=i(3075),A=i(8279),f=i(7261),u=i(6407),T=i(9122),I=i(6362),S=i(4880),x=i(9808),C=i(9224),s=i(4623),m=i(1708),o=i(7423),c=i(5245),r=i(508),v=i(7544);function B(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",12),t.TgZ(2,"div",13),t._UZ(3,"img",14),t._UZ(4,"img",15),t.qZA(),t._UZ(5,"img",16),t.TgZ(6,"h2",17),t._uU(7," LOADGISTIX "),t.qZA(),t._UZ(8,"fuse-horizontal-navigation",18),t.qZA(),t.BQk()),2&a){const n=t.oxw(2);t.xp6(8),t.Q6J("name","topNavigation2")("navigation",n.navigation)}}function b(a,g){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",19),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).toggleNavigation("mainNavigation")}),t._UZ(2,"mat-icon",20),t.qZA(),t.TgZ(3,"h2",17),t._uU(4," LOADGISTIX "),t.qZA(),t._UZ(5,"fuse-horizontal-navigation",18),t.BQk()}if(2&a){const n=t.oxw(2);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:menu"),t.xp6(3),t.Q6J("name","topNavigation2")("navigation",n.navigation)}}function E(a,g){if(1&a&&(t.TgZ(0,"div",9),t.YNc(1,B,9,2,"ng-container",10),t.YNc(2,b,6,3,"ng-container",10),t.TgZ(3,"div",11),t._UZ(4,"user"),t.qZA(),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.isScreenSmall),t.xp6(1),t.Q6J("ngIf",n.isScreenSmall)}}function O(a,g){if(1&a&&(t.TgZ(0,"mat-list-item",22),t.TgZ(1,"mat-icon",23),t._uU(2,"note"),t.qZA(),t.TgZ(3,"div",24),t.TgZ(4,"a",25),t._uU(5),t.qZA(),t.qZA(),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(4),t.Q6J("href","#/directory-details?id="+n.id,t.LSH)("matBadge",n.directory?n.directory.length:0),t.xp6(1),t.Oqu(n.description)}}function U(a,g){if(1&a&&(t.ynx(0),t.YNc(1,O,6,3,"mat-list-item",21),t.BQk()),2&a){const n=g.$implicit;t.xp6(1),t.Q6J("ngIf",(n.directory?n.directory.length:0)>0)}}let M=(()=>{class a{constructor(n,l,d,J,L,N,w,F,W){this.dialog=n,this._formBuilder=l,this.apiService=d,this._snackBar=J,this.variableService=L,this._router=N,this._fuseNavigationService=w,this.fuseSplashScreenService=F,this._fuseMediaWatcherService=W,this.loading=!0,this._unsubscribeAll=new e.x,this.userId=localStorage.getItem("userId"),this.navigation=[{id:"home",title:"Home",type:"basic",icon:"heroicons_outline:home",link:"/home"},{id:"business-directory",title:"Business Directory",type:"basic",icon:"heroicons_outline:chart-pie",link:"/business-directory"}],this.fuseSplashScreenService.show(),this.loading=!0}ngOnInit(){this.getDirectoryCategories().then(n=>{this.variableService.setPageSelected("Business Directory"),this.directoryCategoryList=n,this.fuseSplashScreenService.hide(),this.loading=!1}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,Z.R)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{this.isScreenSmall=!n.includes("md")})}toggleNavigation(n){const l=this._fuseNavigationService.getComponent(n);l&&l.toggle()}getDirectoryCategories(){return new Promise(l=>{try{this.apiService.post("directoryCategories","available",null).subscribe({next:d=>{1==d.result?l(d.data):"Expired"==d.message?this._router.navigate(["/sign-out"]):(this._snackBar.open("Error: "+d.message,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1)},error:d=>{console.log(d),this._snackBar.open("Error: "+d,null,{duration:2e3}),this.fuseSplashScreenService.hide(),this.loading=!1},complete:()=>{}})}catch(d){l([])}})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(_.uw),t.Y36(y.qu),t.Y36(A.s),t.Y36(f.ux),t.Y36(u.S),t.Y36(p.F0),t.Y36(T.Jf),t.Y36(I.j),t.Y36(S.T))},a.\u0275cmp=t.Xpm({type:a,selectors:[["business-directory"]],decls:11,vars:2,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],["class","relative flex flex-0 items-center w-full h-16 sm:h-20 px-4 md:px-6 z-49 shadow dark:shadow-none dark:border-b bg-card dark:bg-transparent print:hidden",4,"ngIf"],["fusePerfectScrollbar","",1,"page-layout","blank","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-4","lg:col-span-4","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"table-container","bg-card","shadow","rounded-2xl"],[1,"mat-elevation-z5",2,"padding","4px!important"],[4,"ngFor","ngForOf"],[1,"sm:col-span-2","lg:col-span-2","flex","flex-col","flex-auto","p-6","overflow-hidden",2,"padding","0!important"],[1,"relative","flex","flex-0","items-center","w-full","h-16","sm:h-20","px-4","md:px-6","z-49","shadow","dark:shadow-none","dark:border-b","bg-card","dark:bg-transparent","print:hidden"],[4,"ngIf"],[1,"flex","items-center","pl-2","ml-auto","space-x-0.5","sm:space-x-2"],[1,"flex","items-center","mx-2","lg:mr-8"],[1,"hidden","lg:flex"],["src","assets/images/logo/logo.png",1,"dark:hidden","w-14"],["src","assets/images/logo/logo-text-on-dark.png",1,"hidden","dark:flex","w-24"],["src","assets/images/logo/logo.png",1,"flex","lg:hidden","w-12"],[1,"text-secondary","text-2xl","md:text-3xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","ml-4"],[3,"name","navigation"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["class","listItem",4,"ngIf"],[1,"listItem"],["mat-list-icon",""],["mat-line",""],["matBadgeOverlap","false",3,"href","matBadge"]],template:function(n,l){1&n&&(t.TgZ(0,"div",0),t.YNc(1,E,5,2,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"mat-card",6),t.TgZ(7,"mat-list"),t.YNc(8,U,2,1,"ng-container",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",8),t._UZ(10,"advert"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!l.userId),t.xp6(7),t.Q6J("ngForOf",l.directoryCategoryList))},directives:[x.O5,C.a8,s.i$,x.sg,m.I,o.lW,c.Hw,s.Tg,s.Nh,r.X2,v.k],styles:[".mat-badge-medium.mat-badge-above .mat-badge-content{top:unset!important;right:-28px!important}.listItem{cursor:pointer}\n"],encapsulation:2}),a})();var P=i(7776);const Y=[{path:"",component:M}];let Q=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[p.Bz.forChild(Y),P.m]]}),a})()}}]);